{"version":3,"sources":["webpack:///./src/layouts/default.vue?e8a4","webpack:///./src/components/AppLocale.vue?6897","webpack:///src/components/AppLocale.vue","webpack:///./src/components/AppLocale.vue?cbc0","webpack:///./src/components/AppLocale.vue","webpack:///./src/layouts/default.vue?9b29","webpack:///src/layouts/default.vue","webpack:///./src/layouts/default.vue?b33d","webpack:///./src/layouts/default.vue?3789"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","AllLocales","scopedSlots","_u","key","fn","ref","item","flag","_v","_s","name","model","value","callback","$$v","currentLocale","expression","staticRenderFns","computed","state","locale","locales","getCurrentLocale","$i18n","setCurrentLocale","methods","component","VSelect","on","resetFilmStoreState","admin","$route","params","id","_e","logoutUser","alert","user","components","myLocale","Logout","GetProfile","reserFilmState","res","$confirm","title","color","buttonTrueText","buttonFalseText","icon","then","isAdmin","VAlert","VApp","VAppBar","VBtn","VIcon","VSpacer"],"mappings":"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","file":"js/layout-layouts-default-vue.06509dda.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./default.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-select',{staticClass:\"ml-2\",attrs:{\"dense\":\"\",\"solo\":\"\",\"items\":_vm.AllLocales,\"hide-details\":\"\",\"return-object\":\"\"},scopedSlots:_vm._u([{key:\"selection\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('flag',{attrs:{\"iso\":item.flag}}),_c('span',{staticClass:\"ml-2\"},[_vm._v(_vm._s(item.name))])]}},{key:\"item\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('flag',{attrs:{\"iso\":item.flag}}),_c('span',{staticClass:\"ml-2\"},[_vm._v(\" \"+_vm._s(item.name))])]}}]),model:{value:(_vm.currentLocale),callback:function ($$v) {_vm.currentLocale=$$v},expression:\"currentLocale\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <v-select\n      dense\n      solo\n      :items=\"AllLocales\"\n      class=\"ml-2\"\n      hide-details\n      v-model=\"currentLocale\"\n      return-object\n    >\n      <template v-slot:selection=\"{ item }\">\n        <flag :iso=\"item.flag\" />\n        <span class=\"ml-2\">{{ item.name }}</span>\n      </template>\n      <template v-slot:item=\"{ item }\">\n        <flag :iso=\"item.flag\" />\n        <span class=\"ml-2\"> {{ item.name }}</span>\n      </template>\n    </v-select>\n  </div>\n</template>\n\n<script>\nimport { mapGetters, mapMutations, mapState } from \"vuex\";\nexport default {\n  computed: {\n    ...mapState({\n      AllLocales: (state) => state.locale.locales,\n    }),\n    ...mapGetters({\n      getCurrentLocale: \"locale/GET_CURRENT_LOCALE\",\n    }),\n    currentLocale: {\n      get() {\n        return this.getCurrentLocale;\n      },\n      set(value) {\n        this.$i18n.locale = value.flag;\n        this.setCurrentLocale(value);\n      },\n    },\n  },\n  methods: {\n    ...mapMutations({\n      setCurrentLocale: \"locale/SET_CURRENT_LOCALE\",\n    }),\n  },\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppLocale.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppLocale.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AppLocale.vue?vue&type=template&id=20404ffa&\"\nimport script from \"./AppLocale.vue?vue&type=script&lang=js&\"\nexport * from \"./AppLocale.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VSelect } from 'vuetify/lib/components/VSelect';\ninstallComponents(component, {VSelect})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.user)?_c('v-app',[_c('v-app-bar',{attrs:{\"dense\":\"\",\"dark\":\"\",\"app\":\"\"}},[_c('myLocale',{staticClass:\"langSelect\"}),_c('v-spacer'),_c('v-btn',{attrs:{\"title\":\"Фильмы\",\"to\":{ name: 'films' },\"icon\":\"\"},on:{\"click\":_vm.resetFilmStoreState}},[_c('v-icon',[_vm._v(\"mdi-movie\")])],1),(_vm.admin && _vm.$route.name != 'editfilm')?_c('v-btn',{attrs:{\"color\":\"cyan lighten-2\",\"title\":\"Добавить фильм\",\"to\":{ name: 'editfilm', params: { id: 'new' } },\"icon\":\"\"}},[_c('v-icon',[_vm._v(\"mdi-library-plus\")])],1):_vm._e(),_c('v-btn',{attrs:{\"title\":\"Профиль\",\"to\":{ name: 'profile' },\"icon\":\"\"}},[_c('v-icon',[_vm._v(\"mdi-face\")])],1),_c('v-btn',{attrs:{\"title\":\"Logout\",\"icon\":\"\"},on:{\"click\":_vm.logoutUser}},[_c('v-icon',[_vm._v(\"mdi-logout\")])],1)],1),_c('v-alert',{staticClass:\"pos-abs\",attrs:{\"border\":\"left\",\"close-text\":\"закрыть\",\"color\":\"deep-purple accent-4\",\"dark\":\"\",\"dismissible\":\"\"},model:{value:(_vm.alert),callback:function ($$v) {_vm.alert=$$v},expression:\"alert\"}},[_vm._v(\" Вы администратор, но зашли как обычный пользователь \")]),_c('vue-page-transition',{attrs:{\"name\":\"fade\"}},[_c('router-view')],1)],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-app v-if=\"user\">\n    <v-app-bar dense dark app>\n      <myLocale class=\"langSelect\" />\n      <v-spacer></v-spacer>\n      <v-btn\n        @click=\"resetFilmStoreState\"\n        title=\"Фильмы\"\n        :to=\"{ name: 'films' }\"\n        icon\n      >\n        <v-icon>mdi-movie</v-icon>\n      </v-btn>\n      <v-btn\n        color=\"cyan lighten-2\"\n        v-if=\"admin && $route.name != 'editfilm'\"\n        title=\"Добавить фильм\"\n        :to=\"{ name: 'editfilm', params: { id: 'new' } }\"\n        icon\n      >\n        <v-icon>mdi-library-plus</v-icon>\n      </v-btn>\n      <v-btn title=\"Профиль\" :to=\"{ name: 'profile' }\" icon>\n        <v-icon>mdi-face</v-icon>\n      </v-btn>\n      <v-btn title=\"Logout\" @click=\"logoutUser\" icon>\n        <v-icon>mdi-logout</v-icon>\n      </v-btn>\n    </v-app-bar>\n    <v-alert\n      v-model=\"alert\"\n      border=\"left\"\n      close-text=\"закрыть\"\n      class=\"pos-abs\"\n      color=\"deep-purple accent-4\"\n      dark\n      dismissible\n    >\n      Вы администратор, но зашли как обычный пользователь\n    </v-alert>\n    <vue-page-transition name=\"fade\">\n      <router-view></router-view>\n    </vue-page-transition>\n  </v-app>\n</template>\n\n<script>\nimport { mapActions } from \"vuex\";\nimport myLocale from \"@/components/AppLocale.vue\";\nexport default {\n  data() {\n    return {\n      alert: false,\n      user: null,\n      admin: null,\n    };\n  },\n  components: { myLocale },\n  methods: {\n    ...mapActions({\n      Logout: \"auth/LOGOUT\",\n      GetProfile: \"auth/GET_PROFILE\",\n      reserFilmState: \"film/RESET_STATE\",\n    }),\n    async logoutUser() {\n      const res = await this.$confirm(\n        \"Выйти из учетной записи и перейти на страницу логина?\",\n        {\n          title: \"Выйти\",\n          color: \"primary\",\n          buttonTrueText: \"Покинуть\",\n          buttonFalseText: \"Нет\",\n          icon: \"mdi-logout\",\n        }\n      );\n      if (res) {\n        this.Logout();\n      } else {\n        return;\n      }\n    },\n    resetFilmStoreState() {\n      this.reserFilmState();\n    },\n  },\n  created() {\n    this.GetProfile().then((res) => {\n      this.user = res.user;\n      this.admin = res.admin;\n      if (!this.admin && this.user.isAdmin) this.alert = true;\n    });\n  },\n};\n</script>\n<style lang=\"scss\">\n.margin_top {\n  margin-top: 48px;\n}\n.pos-abs {\n  position: fixed;\n  top: 60px;\n  z-index: 100;\n  left: 50%;\n  transform: translate(-50%);\n}\n.langSelect {\n  width: 135px;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./default.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./default.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./default.vue?vue&type=template&id=5ba47ced&\"\nimport script from \"./default.vue?vue&type=script&lang=js&\"\nexport * from \"./default.vue?vue&type=script&lang=js&\"\nimport style0 from \"./default.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAlert } from 'vuetify/lib/components/VAlert';\nimport { VApp } from 'vuetify/lib/components/VApp';\nimport { VAppBar } from 'vuetify/lib/components/VAppBar';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VAlert,VApp,VAppBar,VBtn,VIcon,VSpacer})\n"],"sourceRoot":""}