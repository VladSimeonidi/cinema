(function(e){function t(t){for(var a,s,o=t[0],l=t[1],c=t[2],u=0,d=[];u<o.length;u++)s=o[u],Object.prototype.hasOwnProperty.call(i,s)&&i[s]&&d.push(i[s][0]),i[s]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);m&&m(t);while(d.length)d.shift()();return n.push.apply(n,c||[]),r()}function r(){for(var e,t=0;t<n.length;t++){for(var r=n[t],a=!0,s=1;s<r.length;s++){var o=r[s];0!==i[o]&&(a=!1)}a&&(n.splice(t--,1),e=l(l.s=r[0]))}return e}var a={},s={app:0},i={app:0},n=[];function o(e){return l.p+"js/"+({"layout-components-AppLocale-vue":"layout-components-AppLocale-vue","layout-layouts-authlayout-vue":"layout-layouts-authlayout-vue","layout-layouts-default-vue":"layout-layouts-default-vue","layout-layouts-empty-vue":"layout-layouts-empty-vue"}[e]||e)+"."+{"layout-components-AppLocale-vue":"826f41db","layout-layouts-authlayout-vue":"4de31ce3","layout-layouts-default-vue":"06509dda","layout-layouts-empty-vue":"a2619e61"}[e]+".js"}function l(t){if(a[t])return a[t].exports;var r=a[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,l),r.l=!0,r.exports}l.e=function(e){var t=[],r={"layout-layouts-authlayout-vue":1,"layout-layouts-default-vue":1};s[e]?t.push(s[e]):0!==s[e]&&r[e]&&t.push(s[e]=new Promise((function(t,r){for(var a="css/"+({"layout-components-AppLocale-vue":"layout-components-AppLocale-vue","layout-layouts-authlayout-vue":"layout-layouts-authlayout-vue","layout-layouts-default-vue":"layout-layouts-default-vue","layout-layouts-empty-vue":"layout-layouts-empty-vue"}[e]||e)+"."+{"layout-components-AppLocale-vue":"31d6cfe0","layout-layouts-authlayout-vue":"8e0e4344","layout-layouts-default-vue":"caabcb83","layout-layouts-empty-vue":"31d6cfe0"}[e]+".css",i=l.p+a,n=document.getElementsByTagName("link"),o=0;o<n.length;o++){var c=n[o],u=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(u===a||u===i))return t()}var d=document.getElementsByTagName("style");for(o=0;o<d.length;o++){c=d[o],u=c.getAttribute("data-href");if(u===a||u===i)return t()}var m=document.createElement("link");m.rel="stylesheet",m.type="text/css",m.onload=t,m.onerror=function(t){var a=t&&t.target&&t.target.src||i,n=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");n.code="CSS_CHUNK_LOAD_FAILED",n.request=a,delete s[e],m.parentNode.removeChild(m),r(n)},m.href=i;var h=document.getElementsByTagName("head")[0];h.appendChild(m)})).then((function(){s[e]=0})));var a=i[e];if(0!==a)if(a)t.push(a[2]);else{var n=new Promise((function(t,r){a=i[e]=[t,r]}));t.push(a[2]=n);var c,u=document.createElement("script");u.charset="utf-8",u.timeout=120,l.nc&&u.setAttribute("nonce",l.nc),u.src=o(e);var d=new Error;c=function(t){u.onerror=u.onload=null,clearTimeout(m);var r=i[e];if(0!==r){if(r){var a=t&&("load"===t.type?"missing":t.type),s=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+a+": "+s+")",d.name="ChunkLoadError",d.type=a,d.request=s,r[1](d)}i[e]=void 0}};var m=setTimeout((function(){c({type:"timeout",target:u})}),12e4);u.onerror=u.onload=c,document.head.appendChild(u)}return Promise.all(t)},l.m=e,l.c=a,l.d=function(e,t,r){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(l.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)l.d(r,a,function(t){return e[t]}.bind(null,a));return r},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/",l.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],u=c.push.bind(c);c.push=t,c=c.slice();for(var d=0;d<c.length;d++)t(c[d]);var m=u;n.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"0130":function(e,t,r){},"0c7e":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e.Loading?r("v-main",{staticClass:"main-min-height"},[e._v(" loading ")]):r("v-main",{staticClass:"main-wrapper main-min-height"},[r("v-container",{staticClass:"pa-0",attrs:{fluid:""}},[r("v-container",{staticClass:"mb-10 pt-10 header-container text-center",attrs:{fluid:""}},[r("div",{staticClass:"custom-shape-divider-bottom"},[r("svg",{attrs:{"data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1200 120",preserveAspectRatio:"none"}},[r("path",{staticClass:"shape-fill",attrs:{d:"M321.39,56.44c58-10.79,114.16-30.13,172-41.86,82.39-16.72,168.19-17.73,250.45-.39C823.78,31,906.67,72,985.66,92.83c70.05,18.48,146.53,26.09,214.34,3V0H0V27.35A600.21,600.21,0,0,0,321.39,56.44Z"}})])]),r("Media",{style:{outline:"none",boxShadow:"0 0 15px rgba(0,0,0,0.5)",width:"55%",borderRadius:"10px"},attrs:{kind:"video",controls:!0,src:e.Film.link}})],1),r("v-container",{staticClass:"mb-10",attrs:{fluid:""}},[r("v-row",{attrs:{"no-gutters":""}},[r("v-col",{attrs:{cols:"12"}},[r("div",{staticClass:"header-styling text-center"},[r("span",{staticClass:"nice-title"},[e._v(e._s(e.Film.name))])])]),r("v-col",{staticClass:"mt-10",attrs:{cols:"12"}},[r("v-tabs",{attrs:{"background-color":"transparent",color:"basil",grow:""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[r("v-tab",[e._v(" "+e._s(e.$t("filmDetails.description"))+" ")]),e.Film.director.length<2?r("v-tab",[e._v(" "+e._s(e.$t("filmDetails.director"))+" "+e._s(e.$t("and"))+" "+e._s(e.$t("filmDetails.year"))+" ")]):r("v-tab",[e._v(" "+e._s(e.$t("filmDetails.directors"))+" "+e._s(e.$t("and"))+" "+e._s(e.$t("filmDetails.year"))+" ")])],1),r("v-tabs-items",{staticClass:"mt-4",model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[r("v-tab-item",[e.Film.description.length?r("div",{staticClass:"text-description pa-5"},[e._v(" "+e._s(e.Film.description)+" ")]):r("div",{staticClass:"text-description pa-5"},[e._v(" "+e._s(e.$t("filmDetails.noDescrition"))+" ")])]),r("v-tab-item",[r("v-card-text",[r("v-row",{attrs:{"no-gutters":""}},[r("v-col",{attrs:{cols:"12",sm:"6"}},[r("v-list",e._l(e.Film.director,(function(t,a){return r("v-list-item",{key:a},[r("v-list-item-avatar",{attrs:{size:"75"}},[r("v-img",{attrs:{alt:"avatar",src:t.image}})],1),r("v-list-item-content",[r("v-list-item-title",{staticClass:"font-weight-medium",domProps:{textContent:e._s(t.name)}})],1)],1)})),1)],1),r("v-col",{staticClass:"d-flex justify-end align-center text-year",attrs:{cols:"12",sm:"6"}},[e._v(" "+e._s(e.Film.year)+" ")])],1)],1)],1)],1)],1)],1),e.socials.length>0?r("v-card-text",e._l(e.socials,(function(t,a){return r("v-btn",{key:a,staticClass:"mx-4",attrs:{target:"_blank",color:"blue",to:t.link,icon:""}},[r("v-icon",{attrs:{size:"28px"}},[e._v(e._s(t.icon))])],1)})),1):e._e()],1)],1)],1),r("Footer")],1)},s=[],i=r("2f62"),n=r("f657"),o=r("253d"),l=r.n(o),c={metaInfo:{title:"Film Details"},data(){return{Loading:!0,tab:null,buttons:[1,2,3],socials:[]}},components:{Media:l.a,Footer:n["default"]},computed:{...Object(i["e"])({Film:e=>e.film.currentItem})},methods:{...Object(i["b"])({uploadCurrentItem:"film/SET_CURRENT_ITEM_AS_DETAILS"})},mounted(){this.uploadCurrentItem(this.$route.params.id).then(e=>{for(let t in e.social)if(e.social[t])switch(t){case"facebook":this.socials.push({icon:"mdi-facebook",link:e.social[t]});break;case"twitter":this.socials.push({icon:"mdi-twitter",link:e.social[t]});break;case"instagram":this.socials.push({icon:"mdi-instagram",link:e.social[t]});break}this.Loading=!1}).catch(e=>{alert(e)}),console.log("soc"),console.log(this.socials)}},u=c,d=(r("5695"),r("2877")),m=r("6544"),h=r.n(m),p=r("8336"),f=r("99d9"),v=r("62ad"),E=r("a523"),g=r("132d"),_=r("adda"),T=r("8860"),I=r("da13"),b=r("8270"),S=r("5d23"),R=r("f6c4"),L=r("0fd9"),$=r("71a3"),C=r("c671"),A=r("fe57"),x=r("aac8"),y=Object(d["a"])(u,a,s,!1,null,"325d7595",null);t["default"]=y.exports;h()(y,{VBtn:p["a"],VCardText:f["d"],VCol:v["a"],VContainer:E["a"],VIcon:g["a"],VImg:_["a"],VList:T["a"],VListItem:I["a"],VListItemAvatar:b["a"],VListItemContent:S["g"],VListItemTitle:S["k"],VMain:R["a"],VRow:L["a"],VTab:$["a"],VTabItem:C["a"],VTabs:A["a"],VTabsItems:x["a"]})},"0eec":function(e,t,r){"use strict";r.r(t),r.d(t,"namespaced",(function(){return a})),r.d(t,"state",(function(){return s})),r.d(t,"mutations",(function(){return i})),r.d(t,"getters",(function(){return n}));const a=!0,s=()=>({locales:[{name:"Россия",flag:"ru"},{name:"Україна",flag:"ua"},{name:"USA",flag:"us"}],currentLocale:localStorage.getItem("locale")}),i={SET_CURRENT_LOCALE(e,t){localStorage.setItem("locale",t.flag),e.currentLocale=t.flag}},n={GET_CURRENT_LOCALE(e){let t=e.locales.find(e=>e.flag==localStorage.getItem("locale"));return t}}},1024:function(e,t,r){},1269:function(e,t,r){"use strict";r("0130")},1511:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-main",{staticClass:"d-flex align-center Wrapper"},[r("v-container",{staticClass:"d-flex justify-center align-center",attrs:{fluid:""}},[r("v-card",{attrs:{width:"100%","max-width":"700px",outlined:""}},[r("v-card-title",[e._v("Редактирование пользователя")]),r("v-card-text",[r("v-text-field",{attrs:{"error-messages":e.nameErrors,label:"Ф.И.О"},on:{input:function(t){return e.$v.Name.$touch()},blur:function(t){return e.$v.Name.$touch()}},model:{value:e.Name,callback:function(t){e.Name=t},expression:"Name"}}),r("v-text-field",{attrs:{"error-messages":e.usernameErrors,label:"Логин"},on:{input:function(t){return e.$v.UserName.$touch()},blur:function(t){return e.$v.UserName.$touch()}},model:{value:e.UserName,callback:function(t){e.UserName=t},expression:"UserName"}}),r("v-text-field",{attrs:{"error-messages":e.passwordErrors,label:"Пароль"},on:{input:function(t){return e.$v.Password.$touch()},blur:function(t){return e.$v.Password.$touch()}},model:{value:e.Password,callback:function(t){e.Password=t},expression:"Password"}}),r("v-text-field",{attrs:{"error-messages":e.emailErrors,label:"Электронная почта"},on:{input:function(t){return e.$v.Email.$touch()},blur:function(t){return e.$v.Email.$touch()}},model:{value:e.Email,callback:function(t){e.Email=t},expression:"Email"}}),r("v-checkbox",{attrs:{label:"Сделать администратором?"},model:{value:e.checkbox,callback:function(t){e.checkbox=t},expression:"checkbox"}})],1),r("v-card-actions",[r("v-btn",{on:{click:e.save}},[e._v("Сохранить")]),r("v-btn",{on:{click:function(t){return e.$router.go(-1)}}},[e._v("Назад")])],1)],1)],1)],1)},s=[],i=r("2f62"),n=r("1dce"),o=r("b5ae"),l={metaInfo:{title:"Edit User"},data(){return{checkbox:!1}},mixins:[n["validationMixin"]],validations:{Name:{required:o["required"]},UserName:{required:o["required"]},Password:{required:o["required"]},Email:{required:o["required"],email:o["email"]}},computed:{nameErrors(){const e=[];return this.$v.Name.$dirty?(!this.$v.Name.required&&e.push("Ф.И.О. необходимы"),e):e},usernameErrors(){const e=[];return this.$v.UserName.$dirty?(!this.$v.UserName.required&&e.push("Логин необходим"),e):e},passwordErrors(){const e=[];return this.$v.Password.$dirty?(!this.$v.Password.required&&e.push("Пароль необходим"),e):e},emailErrors(){const e=[];return this.$v.Email.$dirty?(!this.$v.Email.email&&e.push("Электронная почта должена быть валидной"),!this.$v.Email.required&&e.push("Электронная почта необходима"),e):e},Name:{get(){return this.getUserName()},set(e){console.log(this.$v),this.setUserName(e)}},UserName:{get(){return this.getUserLogin()},set(e){this.setUserLogin(e)}},Email:{get(){return this.getUserEmail()},set(e){this.setUserEmail(e)}},Password:{get(){return this.getUserPassword()},set(e){this.setUserPassword(e)}},SetAdmin:{get(){return this.getUserAdmin()},set(e){this.checkbox&&this.setUserAdmin(e)}}},methods:{...Object(i["b"])({uploadUserProfile:"profile/SET_CURRENT_USER",editUser:"profile/EDIT_CURRENT_USER"}),...Object(i["c"])({getUserName:"profile/GET_NAME",getUserLogin:"profile/GET_USERNAME",getUserEmail:"profile/GET_EMAIL",getUserPassword:"profile/GET_PASSWORD",getUserAdmin:"profile/GET_ADMIN"}),...Object(i["d"])({setUserName:"profile/SET_USER_NAME",setUserLogin:"profile/SET_USER_USERNAME",setUserEmail:"profile/SET_USER_EMAIL",setUserPassword:"profile/SET_USER_PASSWORD",setUserAdmin:"profile/SET_USER_ADMIN"}),save(){if(this.$v.$touch(),this.$v.$invalid)return console.log("111"),void this.appAlert("Валидация","Заполните все необходимые поля правильно!","error");this.editUser().then(e=>{e.success?(this.appAlert("Сохранено успешно",e.msg,"success"),this.$router.go(-1)):this.appAlert("Ошибка редактирования",e.msg,"error")})}},created(){this.uploadUserProfile(this.$route.params.id)}},c=l,u=(r("de8f"),r("2877")),d=r("6544"),m=r.n(d),h=r("8336"),p=r("b0af"),f=r("99d9"),v=r("ac7c"),E=r("a523"),g=r("f6c4"),_=r("8654"),T=Object(u["a"])(c,a,s,!1,null,"4baa28ca",null);t["default"]=T.exports;m()(T,{VBtn:h["a"],VCard:p["a"],VCardActions:f["b"],VCardText:f["d"],VCardTitle:f["e"],VCheckbox:v["a"],VContainer:E["a"],VMain:g["a"],VTextField:_["a"]})},"1cf3":function(e,t,r){},"1dc6":function(e,t,r){"use strict";r.r(t);var a=r("bba4"),s=r.n(a);const i=r("d307"),n={};i.keys().forEach(e=>{if("./modules.js"===e)return;const t=s()(e.replace(/(\.\/|\.js)/g,""));n[t]=i(e)}),t["default"]=n},"1ecd":function(e,t,r){e.exports=r.p+"img/road.d9d4d414.png"},"234d":function(e,t,r){},2793:function(e,t,r){},"2a31":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"wrapper"})},s=[],i={metaInfo:{title:"Not Found"}},n=i,o=(r("b6f9"),r("2877")),l=Object(o["a"])(n,a,s,!1,null,"47aae3c2",null);t["default"]=l.exports},"2cc2":function(e,t,r){"use strict";r.r(t),r.d(t,"namespaced",(function(){return n})),r.d(t,"state",(function(){return o})),r.d(t,"mutations",(function(){return l})),r.d(t,"actions",(function(){return c})),r.d(t,"getters",(function(){return u}));var a=r("a078"),s=r("bc3a"),i=r.n(s);const n=!0,o=()=>({status:"",profiles:[],directors:[],currentUser:{}}),l={PROFILE_REQUEST(e){e.status="loading"},SET_LIST(e,t){e.profiles=t},SET_LIST_DIRECTORS(e,t){e.directors=t},SET_CURRENT_USER(e,t){e.currentUser=t},SET_USER_NAME(e,t){e.currentUser.name=t},SET_USER_USERNAME(e,t){e.currentUser.username=t},SET_USER_EMAIL(e,t){e.currentUser.email=t},SET_USER_PASSWORD(e,t){e.currentUser.password=t},SET_USER_ADMIN(e,t){e.currentUser.isAdmin=t}},c={async SET_AUTOCOMPLETE_LIST({commit:e},t){e("PROFILE_REQUEST");let r=await i.a.get(a["a"].API.BASE_URL+a["a"].API.USER.PROFILE_AUTOCOMPLETE_LIST+"?search="+t).then(t=>(e("SET_LIST",t.data),t.data)).catch(e=>{console.log(e)});return r},async SET_AUTOCOMPLETE_LIST_DIRECTORS({commit:e},t){let r=await i.a.get(a["a"].API.BASE_URL+a["a"].API.USER.PROFILE_AUTOCOMPLETE_LIST_DIRECTORS+"?search="+t).then(t=>(e("SET_LIST_DIRECTORS",t.data),t.data)).catch(e=>{console.log(e)});return r},async SET_CURRENT_USER({commit:e},t){await i.a.get(a["a"].API.BASE_URL+a["a"].API.USER.USERPROFILE+"/"+t).then(t=>(e("SET_CURRENT_USER",t.data),t.data)).catch(e=>{console.log(e)})},async EDIT_CURRENT_USER({commit:e,state:t}){let r=t.currentUser._id,s=t.currentUser;const n=await i.a.put(a["a"].API.BASE_URL+a["a"].API.USER.EDITPROFILE+"/"+r,s).then(t=>(e("SET_CURRENT_USER",t.data.editedUser),t.data)).catch(e=>e.response.data);return n}},u={GET_NAME(e){return e.currentUser.name},GET_USERNAME(e){return e.currentUser.username},GET_EMAIL(e){return e.currentUser.email},GET_PASSWORD(e){return e.currentUser.password},GET_ADMIN(e){return e.currentUser.isAdmin}}},"314e":function(e,t,r){"use strict";r("3f21")},"326c":function(e,t,r){"use strict";r("c743")},"363e":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.admin?r("v-dialog",{attrs:{persistent:"","max-width":"600px"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,s=t.attrs;return[e.admin?r("v-btn",e._g(e._b({attrs:{large:"",icon:""}},"v-btn",s,!1),a),[r("v-icon",{attrs:{color:"blue"}},[e._v("mdi-library-plus")])],1):e._e()]}}],null,!1,3136436665),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[r("v-card",[r("v-card-title",[r("span",{staticClass:"headline"},[e._v("Добавить жанр")])]),r("v-card-text",[r("v-container",[r("v-row",[r("v-col",{attrs:{cols:"12"}},[r("v-text-field",{attrs:{label:"Название"},model:{value:e.textfieldGenre,callback:function(t){e.textfieldGenre=t},expression:"textfieldGenre"}})],1)],1)],1)],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v(" Закрыть ")]),r("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.save}},[e._v(" Сохранить ")])],1)],1)],1):e._e()},s=[],i=r("2f62"),n={data(){return{admin:null,alert:!1,dialog:!1,textfieldGenre:null}},computed:{...Object(i["e"])({GenresList:e=>e.genre.list})},methods:{...Object(i["b"])({SaveGenre:"genre/SAVE_NEW_ITEM",uploadGenresList:"genre/SET_LIST",getProfile:"auth/GET_PROFILE"}),async save(){const e={name:this.textfieldGenre};await this.SaveGenre(e).then(()=>{this.uploadGenresList().then(()=>{this.$emit("getGenres",this.GenresList)}),this.textfieldGenre=null,this.dialog=!1}).catch(()=>{this.alert=!0})},close(){this.textfieldGenre=null,this.dialog=!1}},created(){this.getProfile().then(e=>{this.admin=e.admin})}},o=n,l=r("2877"),c=r("6544"),u=r.n(c),d=r("8336"),m=r("b0af"),h=r("99d9"),p=r("62ad"),f=r("a523"),v=r("169a"),E=r("132d"),g=r("0fd9"),_=r("2fa4"),T=r("8654"),I=Object(l["a"])(o,a,s,!1,null,null,null);t["default"]=I.exports;u()(I,{VBtn:d["a"],VCard:m["a"],VCardActions:h["b"],VCardText:h["d"],VCardTitle:h["e"],VCol:p["a"],VContainer:f["a"],VDialog:v["a"],VIcon:E["a"],VRow:g["a"],VSpacer:_["a"],VTextField:T["a"]})},"3f21":function(e,t,r){},4344:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-main",[e.dataLoaded?r("v-container",{staticClass:"d-flex justify-center align-center pa-10 Wrapper",attrs:{fluid:""}},[r("v-card",{staticClass:"text-center",attrs:{elevation:"15","max-width":"800px",width:"100%"}},["new"!==this.$route.params.id?r("v-card-title",[e._v("Страница одного фильма"),r("v-spacer"),r("v-btn",{attrs:{color:"red"},on:{click:function(t){return e.deleteItem(e.$route.params.id)}}},[e._v(" удалить ")])],1):r("v-card-title",{staticClass:"justify-center"},[e._v("Добавление фильма ")]),r("v-card-text",[r("v-text-field",{attrs:{"error-messages":e.nameErrors,label:"Название",placeholder:"Введите название",required:""},on:{input:function(t){return e.$v.Name.$touch()},blur:function(t){return e.$v.Name.$touch()}},model:{value:e.Name,callback:function(t){e.Name=t},expression:"Name"}}),r("v-text-field",{attrs:{maxLength:"140","error-messages":e.teaserErrors,label:"Тизер",placeholder:"Введите тизер"},on:{input:function(t){return e.$v.Teaser.$touch()},blur:function(t){return e.$v.Teaser.$touch()}},model:{value:e.Teaser,callback:function(t){e.Teaser=t},expression:"Teaser"}}),r("v-row",{attrs:{"no-gutters":""}},[r("v-col",{staticClass:"d-flex",attrs:{cols:"12",sm:"12"}},[e.Genres?r("v-select",{attrs:{"error-messages":e.genreErrors,dense:"",items:e.Genres,"item-text":"name",chips:"",multiple:"",label:"Выберите жанр","return-object":""},on:{input:function(t){return e.$v.Genre.$touch()},blur:function(t){return e.$v.Genre.$touch()}},model:{value:e.Genre,callback:function(t){e.Genre=t},expression:"Genre"}}):e._e(),r("addGenre")],1)],1),r("v-row",{attrs:{align:"center"}},[r("v-col",{staticClass:"d-flex",attrs:{cols:"12",sm:"12"}},[r("v-select",{attrs:{"error-messages":e.directorErrors,items:e.Directors,"item-text":"name",chips:"",multiple:"",dense:"",label:"Выберите режиссера","return-object":""},on:{input:function(t){return e.$v.Director.$touch()},blur:function(t){return e.$v.Director.$touch()}},model:{value:e.Director,callback:function(t){e.Director=t},expression:"Director"}}),r("addDirector")],1)],1),r("v-text-field",{attrs:{"error-messages":e.yearErrors,label:"Год производства",placeholder:"Год производства"},on:{input:function(t){return e.$v.Year.$touch()},blur:function(t){return e.$v.Year.$touch()}},model:{value:e.Year,callback:function(t){e.Year=t},expression:"Year"}}),r("h3",[e._v("Описание")]),r("v-textarea",{attrs:{label:"Описание","error-messages":e.descErrors,placeholder:"Введите описание фильма"},on:{input:function(t){return e.$v.Description.$touch()},blur:function(t){return e.$v.Description.$touch()}},model:{value:e.Description,callback:function(t){e.Description=t},expression:"Description"}}),r("v-text-field",{staticClass:"mt-3",attrs:{"error-messages":e.linkErrors,dense:"",filled:"",readonly:"",label:"Загрузите трейлер",placeholder:"Трейлер"},on:{input:function(t){return e.$v.Link.$touch()},blur:function(t){return e.$v.Link.$touch()}},scopedSlots:e._u([{key:"append",fn:function(){return[r("v-btn",{staticClass:"text-none mb-3",attrs:{color:"primary"},on:{click:e.onFilmFileButtonClick}},[r("v-icon",{attrs:{left:""}},[e._v(" mdi-cloud-upload ")]),e._v(" Загрузить ")],1),r("input",{ref:"uploaderFilm",staticClass:"d-none",attrs:{type:"file",accept:"video/*"},on:{change:e.onFilmFileChanged}})]},proxy:!0}],null,!1,2702044103),model:{value:e.Link,callback:function(t){e.Link=t},expression:"Link"}}),r("v-text-field",{staticClass:"mt-3",attrs:{"error-messages":e.posterErrors,dense:"",filled:"",readonly:"",label:"Загрузите постер",placeholder:"Постер"},on:{input:function(t){return e.$v.Poster.$touch()},blur:function(t){return e.$v.Poster.$touch()}},scopedSlots:e._u([{key:"append",fn:function(){return[r("v-btn",{staticClass:"text-none mb-3",attrs:{color:"primary"},on:{click:e.onPosterFileButtonClick}},[r("v-icon",{attrs:{left:""}},[e._v(" mdi-cloud-upload ")]),e._v(" Загрузить ")],1),r("input",{ref:"uploaderPoster",staticClass:"d-none",attrs:{type:"file",accept:"image/*"},on:{change:e.onPosterFileChanged}})]},proxy:!0}],null,!1,3934150320),model:{value:e.Poster,callback:function(t){e.Poster=t},expression:"Poster"}}),r("h3",[e._v("Социальные сети")]),r("v-row",[r("v-col",{attrs:{cols:"12",sm:"6"}},[r("v-text-field",{attrs:{"prepend-icon":"mdi-facebook"},model:{value:e.Facebook,callback:function(t){e.Facebook=t},expression:"Facebook"}})],1),r("v-col",{attrs:{cols:"12",sm:"6"}},[r("v-text-field",{attrs:{"prepend-icon":"mdi-twitter"},model:{value:e.Twitter,callback:function(t){e.Twitter=t},expression:"Twitter"}})],1),r("v-col",{attrs:{cols:"12",sm:"6"}},[r("v-text-field",{attrs:{"prepend-icon":"mdi-instagram"},model:{value:e.Instagram,callback:function(t){e.Instagram=t},expression:"Instagram"}})],1)],1)],1),r("v-card-actions",[r("v-btn",{attrs:{color:"primary"},on:{click:e.save}},[e._v(" Сохранить ")]),r("v-spacer"),r("v-btn",{on:{click:e.goBack}},[e._v(" Назад ")])],1)],1)],1):e._e(),r("loading",{attrs:{active:this.Loading,color:"blue","is-full-page":""},on:{"update:active":function(t){return e.$set(this,"Loading",t)}}})],1)},s=[],i=r("363e"),n=r("7a20"),o=r("1dce"),l=r("b5ae"),c=r("2f62"),u=r("9062"),d=r.n(u),m=(r("e40d"),{metaInfo:{title:"Edit / Save Film"},data(){return{dataLoaded:!1}},mixins:[o["validationMixin"]],validations:{Name:{required:l["required"],maxLength:Object(l["maxLength"])(100)},Teaser:{required:l["required"],maxLength:Object(l["maxLength"])(140)},Genre:{required:l["required"]},Director:{required:l["required"]},Description:{maxLength:Object(l["maxLength"])(1500)},Year:{required:l["required"],numeric:l["numeric"],between:Object(l["between"])(1950,2021)},Link:{required:l["required"]},Poster:{required:l["required"]}},components:{addGenre:i["default"],addDirector:n["default"],Loading:d.a},computed:{...Object(c["e"])({CurrentFilm:e=>e.film.currentItem,Genres:e=>e.genre.list,Directors:e=>e.director.list,Loading:e=>e.film.Loading}),Name:{get(){return this.$store.state.film.currentItem.name},set(e){this.setCurrentItemName(e)}},Teaser:{get(){return this.$store.state.film.currentItem.teaser},set(e){this.setCurrentItemTeaser(e)}},Genre:{get(){return this.$store.state.film.currentItem.genre},set(e){this.setCurrentItemGenre(e)}},Director:{get(){return this.$store.state.film.currentItem.director},set(e){this.setCurrentItemDirector(e)}},Year:{get(){return this.$store.state.film.currentItem.year},set(e){this.setCurrentItemYear(e)}},Description:{get(){return this.$store.state.film.currentItem.description},set(e){this.setCurrentItemDescription(e)}},Facebook:{get(){return this.$store.state.film.currentItem.social.facebook},set(e){this.setCurrentItemFacebook(e)}},Twitter:{get(){return this.$store.state.film.currentItem.social.twitter},set(e){this.setCurrentItemTwitter(e)}},Instagram:{get(){return this.$store.state.film.currentItem.social.instagram},set(e){this.setCurrentItemInstagram(e)}},Link:{get(){return this.$store.state.film.currentItem.link}},Poster:{get(){return this.$store.state.film.currentItem.poster.file_name}},nameErrors(){const e=[];return this.$v.Name.$dirty?(!this.$v.Name.required&&e.push("Название необходимо"),!this.$v.Name.maxLength&&e.push("Количество символов не должно превышать "+this.$v.Name.$params.maxLength.max),e):e},teaserErrors(){const e=[];return this.$v.Teaser.$dirty?(!this.$v.Teaser.required&&e.push("Тизер необходим"),!this.$v.Teaser.maxLength&&e.push("Количество символов не должно превышать "+this.$v.Teaser.$params.maxLength.max),e):e},descErrors(){const e=[];return this.$v.Description.$dirty?(!this.$v.Description.maxLength&&e.push("Количество символов не должно превышать "+this.$v.Description.$params.maxLength.max),e):e},genreErrors(){const e=[];return this.$v.Genre.$dirty?(!this.$v.Genre.required&&e.push("Жанр необходим"),e):e},directorErrors(){const e=[];return this.$v.Director.$dirty?(!this.$v.Director.required&&e.push("Режиссер необходим"),e):e},yearErrors(){const e=[];return this.$v.Year.$dirty?(!this.$v.Year.required&&e.push("Год производства необходим"),!this.$v.Year.numeric&&e.push("Год производства должен быть числом"),!this.$v.Year.between&&e.push("Год производства должен быть от 1950 по 2021"),e):e},linkErrors(){const e=[];return this.$v.Link.$dirty?(!this.$v.Link.required&&e.push("Трейлер необходим"),e):e},posterErrors(){const e=[];return this.$v.Poster.$dirty?(!this.$v.Poster.required&&e.push("Постер необходим"),e):e}},methods:{...Object(c["b"])({addGenre:"genre/SAVE_NEW_ITEM",uploadGenresList:"genre/SET_LIST",setListOfDirectors:"director/SET_LIST",setCurrentFilm:"film/SET_CURRENT_ITEM",addNewFilm:"film/ADD_NEW_ITEM",saveFilm:"film/SAVE_CURRENT_ITEM",editFilm:"film/EDIT_CURRENT_ITEM",deleteFilm:"film/DELETE_CURRENT_ITEM",getProfile:"auth/GET_PROFILE"}),...Object(c["d"])({setCurrentItemName:"film/SET_CURRENT_NAME",setCurrentItemTeaser:"film/SET_CURRENT_TEASER",setCurrentItemGenre:"film/SET_CURRENT_GENRE",setCurrentItemDirector:"film/SET_CURRENT_DIRECTOR",setCurrentItemYear:"film/SET_CURRENT_YEAR",setCurrentItemDescription:"film/SET_CURRENT_DESCRIPTION",setCurrentItemFacebook:"film/SET_CURRENT_SOCIAL_FACEBOOK",setCurrentItemTwitter:"film/SET_CURRENT_SOCIAL_TWITTER",setCurrentItemInstagram:"film/SET_CURRENT_SOCIAL_INSTAGRAM",setCurrentItemLink:"film/SET_CURRENT_LINK",setCurrentItemPoster:"film/SET_CURRENT_POSTER",setFilmFile:"film/SET_FILM_FILE",setPosterFile:"film/SET_POSTER_FILE"}),onFilmFileButtonClick(){this.$refs.uploaderFilm.click()},onPosterFileButtonClick(){this.$refs.uploaderPoster.click()},onFilmFileChanged(e){try{this.setFilmFile(e.target.files[0]),this.setCurrentItemLink(e.target.files[0].name)}catch(t){console.log(t)}},onPosterFileChanged(e){this.setPosterFile(e.target.files[0]),this.setCurrentItemPoster(e.target.files[0].name)},save(){this.$v.$touch(),this.$v.$invalid?this.appAlert("Валидация","Заполните все необходимые поля правильно!","error"):"new"!==this.$route.params.id?this.editFilm().then(e=>{200===e.status?this.appAlert("Редактирование","Сохранено успешно!","success"):this.appAlert("Редактирование",`Ошибка сохранения ${e.status} - ${e.data}`,"error")}).catch(e=>{console.log(e)}):this.saveFilm().then(e=>{200===e.status?this.appAlert("Сохранение","Сохранено успешно!","success"):this.appAlert("Сохранение",`Ошибка сохранения ${e.status} - ${e.data}`,"error")}).catch(e=>{console.log(e)})},async deleteItem(e){const t=await this.$confirm("Удалить фильм? (Данные фильма будут удалены безвозвратно, а файлы постера и трейлера попадут в корзину)",{title:"Удалить",color:"primary",buttonTrueText:"Удалить",buttonFalseText:"Нет",icon:"mdi-delete"});t&&this.deleteFilm(e).then(e=>{200===e.status?this.appAlert("Удаление","Удалено успешно!","success"):this.appAlert("Удаление","Ошибка удаления "+e.status,"error")}).catch(e=>{console.log(e)})},async goBack(){if("new"===this.$route.params.id){let e=Object.assign({},this.CurrentFilm);delete e.poster,delete e.link;let t=Object.values(e),r=t.some(e=>0!=e.length);if(r){const e=await this.$confirm("В форме есть заполненные поля! Все равно выйти?",{title:"Выход",color:"primary",buttonTrueText:"Да",buttonFalseText:"Нет",icon:"mdi-exit-to-app"});if(!e)return;this.$router.go(-1)}else this.$router.go(-1)}else this.$router.go(-1)}},created(){this.uploadGenresList(),this.getProfile(),"new"!==this.$route.params.id?this.setCurrentFilm(this.$route.params.id).then(()=>{this.dataLoaded=!0}).catch(e=>{console.log(e)}):this.addNewFilm().then(()=>{this.dataLoaded=!0}).catch(e=>{console.log(e)}),this.setListOfDirectors().catch(e=>{console.log(e)})}}),h=m,p=(r("e62d"),r("2877")),f=r("6544"),v=r.n(f),E=r("8336"),g=r("b0af"),_=r("99d9"),T=r("62ad"),I=r("a523"),b=r("132d"),S=r("f6c4"),R=r("0fd9"),L=r("b974"),$=r("2fa4"),C=r("8654"),A=r("a844"),x=Object(p["a"])(h,a,s,!1,null,"36e704b7",null);t["default"]=x.exports;v()(x,{VBtn:E["a"],VCard:g["a"],VCardActions:_["b"],VCardText:_["d"],VCardTitle:_["e"],VCol:T["a"],VContainer:I["a"],VIcon:b["a"],VMain:S["a"],VRow:R["a"],VSelect:L["a"],VSpacer:$["a"],VTextField:C["a"],VTextarea:A["a"]})},4360:function(e,t,r){"use strict";var a=r("2b0e"),s=r("2f62"),i=r("1dc6"),n=r("aa93"),o=r("0e44");const l=Object(o["a"])({paths:[]});a["default"].use(s["a"]),t["a"]=Object(n["createStore"])(s["a"].Store,{strict:!0,modules:i["default"],plugins:[l]})},"507c":function(e,t,r){"use strict";r("9d1e")},5695:function(e,t,r){"use strict";r("1cf3")},"56d7":function(e,t,r){"use strict";r.r(t);var a=r("2b0e"),s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("vue-extend-layouts"),r("notifications",{attrs:{position:"bottom right",width:"400",group:"Notification"}})],1)},i=[],n=r("0064"),o={components:{VueExtendLayouts:n["a"]}},l=o,c=(r("5c0b"),r("2877")),u=Object(c["a"])(l,s,i,!1,null,null,null),d=u.exports,m=r("a18c"),h=r("8c4f"),p=r("4360"),f=r("bc3a"),v=r.n(f),E=r("2106"),g=r.n(E),_=(r("f5df"),r("f309")),T=(r("bf40"),r("9eed")),I=r.n(T);a["default"].use(_["a"]);const b={},S=new _["a"](b);a["default"].use(I.a,{vuetify:S});var R=S,L=(r("d5e8"),r("5363"),r("1dce")),$=r.n(L),C=r("f0eb"),A=r("ee98"),x=r.n(A),y=r("e956"),O=r.n(y),w=r("a925");a["default"].use(w["a"]);const N=new w["a"]({locale:localStorage.getItem("locale"),fallbackLocale:"ru",messages:{ru:{and:"и",films:{extendedSearch:"Расширенный поиск",search:"Поиск по названию",chooseGenre:"Выберите жанр",chooseDirector:"Выберите режиссера",chooseYear:"Выберите год",seeMore:"рассмотреть подробнее",footerText:"Подписывайтесь на нас в социальных сетях!",mySite:"Мой сайт"},login:{login:"Логин",password:"Пароль",asAdmin:"Войти как администратор?",enter:"Войти",getAccount:"Получить аккаунт?"},register:{login:"Логин",name:"Ф.И.О.",email:"Электронная почта",password:"Пароль",confirmPassword:"Подтвердить пароль",register:"Регистрация",haveAccount:"Есть аккаунт?"},authLayout:{login:"Логин",register:"Регистрация"},filmDetails:{genre:"Жанр",director:"Режиссер",directors:"Режиссеры",year:"Год производства",trailer:"Трейлер",description:"Описание",noDescrition:"Описание отсутствует"},intro:{welcome:"Добро пожаловать!"}},ua:{and:"та",films:{extendedSearch:"Розширений пошук",search:"Пошук за назвою",chooseGenre:"Оберіть жанр",chooseDirector:"Оберіть режисера",chooseYear:"Оберіть рік",seeMore:"розглянути докладніше",footerText:"Підписуйтесь на нас в соціальних мережах!",mySite:"Мій сайт"},login:{login:"Логін",password:"Пароль",asAdmin:"Ввійти як адміністратор?",enter:"Увійти",getAccount:"Отримати аккаунт?"},register:{login:"Логін",name:"Ф.І.О.",email:"Електронна пошта",password:"Пароль",confirmPassword:"Підтвердити пароль",register:"Реєстрація",haveAccount:"Маєте аккаунт?"},authLayout:{login:"Логін",register:"Реєстрація"},filmDetails:{genre:"Жанр",director:"Режисер",directors:"Режисери",year:"Рік виробництва",trailer:"Трейлер",description:"Опис",noDescrition:"Опис відсутній"},intro:{welcome:"Ласкаво просимо!"}},us:{and:"and",films:{extendedSearch:"Extended search",search:"Search by name",chooseGenre:"Choose genre",chooseDirector:"Сhoose director",chooseYear:"Сhoose year",seeMore:"see more",footerText:"Follow us on our social networks!",mySite:"My site"},login:{login:"Login",password:"Password",asAdmin:"Login as an administrator?",enter:"Enter",getAccount:"Get an account?"},register:{login:"Login",name:"Name",email:"E-mail",password:"Password",confirmPassword:"Confirm password",register:"Registration",haveAccount:"Have an account?"},authLayout:{login:"Login",register:"Registration"},filmDetails:{genre:"Genre",director:"Director",directors:"Directors",year:"Year of release",trailer:"Trailer",description:"Description",noDescrition:"No description"},intro:{welcome:"Welcome"}}}});var P=r("d61f"),U=r("58ca"),D={methods:{appAlert(e,t,r,a=5e3){this.$notify({group:"Notification",title:e,text:t,type:r,duration:a})}}};v.a.defaults.withCredentials=!0,a["default"].prototype.$http=v.a;const k=localStorage.getItem("token"),F=localStorage.getItem("locale");k&&(a["default"].prototype.$http.defaults.headers.common["Authorization"]=k),F||localStorage.setItem("locale","ru"),a["default"].config.productionTip=!1,a["default"].use(h["a"]),a["default"].use(g.a,v.a),a["default"].use($.a),a["default"].use(x.a),a["default"].use(C["default"]),a["default"].use(O.a),a["default"].use(P["a"]),a["default"].use(U["a"]),a["default"].use(I.a),a["default"].mixin(D),new a["default"]({router:m["a"],store:p["a"],axios:v.a,vuetify:R,i18n:N,render:e=>e(d)}).$mount("#app")},"5c0b":function(e,t,r){"use strict";r("9c0c")},"5f1a":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("button",{staticClass:"myButton big-button myButton-position",on:{click:function(t){t.stopPropagation(),e.drawer=!e.drawer}}},[e._v(" Панель ")]),r("v-navigation-drawer",{attrs:{absolute:"",temporary:"",width:"300px"},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[r("v-list-item",[r("v-list-item-content",[r("v-list-item-title",[e._v("Редактирование")])],1)],1),r("v-divider"),r("v-list",{attrs:{dense:""}},[r("v-list-item",[r("v-list-item-content",[r("v-list-item-title",[r("v-autocomplete",{attrs:{"search-input":e.searchFilms,color:"primary","hide-no-data":"",dense:"","solo-inverted":"",items:e.filmList,"item-text":"name","hide-details":"",label:"Фильмы",placeholder:"Редактирование фильма","return-object":""},on:{"update:searchInput":function(t){e.searchFilms=t},"update:search-input":function(t){e.searchFilms=t},change:e.selectFilm}})],1)],1)],1),r("v-list-item",[r("v-list-item-content",[r("v-list-item-title",[r("v-autocomplete",{attrs:{"search-input":e.searchUsers,color:"primary","hide-no-data":"",dense:"","solo-inverted":"",items:e.userList,"item-text":"name","hide-details":"",label:"Пользователи",placeholder:"Редактирование пользователя","return-object":""},on:{"update:searchInput":function(t){e.searchUsers=t},"update:search-input":function(t){e.searchUsers=t},change:e.selectUser}})],1)],1)],1),r("v-list-item",[r("v-list-item-content",[r("v-list-item-title",[r("v-autocomplete",{attrs:{"search-input":e.searchDirectors,color:"primary","hide-no-data":"",dense:"","solo-inverted":"",items:e.directorList,"item-text":"name","hide-details":"",label:"Режиссеры",placeholder:"Редактирование режиссера","return-object":""},on:{"update:searchInput":function(t){e.searchDirectors=t},"update:search-input":function(t){e.searchDirectors=t},change:e.selectDirector}})],1)],1)],1)],1),r("v-divider"),r("v-list-item",[r("v-list-item-content",[r("v-list-item-title",[e._v("Сохранение")])],1)],1),r("v-divider"),r("v-list",{attrs:{dense:""}},[r("v-list-item",[r("v-list-item-content",[r("v-list-item-title",[r("v-btn",{attrs:{block:"",tile:"",to:{name:"editfilm",params:{id:"new"}}}},[e._v("Добавить фильм")])],1)],1)],1),r("v-list-item",[r("v-list-item-content",[r("v-list-item-title",[r("v-btn",{attrs:{block:"",tile:"",to:{name:"director",params:{id:"new"}}}},[e._v("Добавить режиссера")])],1)],1)],1)],1)],1)],1)},s=[],i=r("2f62"),n={data(){return{drawer:!1,searchUsers:null,searchFilms:null,searchDirectors:null,isLoading:!1,filmList:[],userList:[],directorList:[]}},methods:{...Object(i["b"])({getAutocompleteListFilms:"film/SET_AUTOCOMPLETE_LIST",getAutocompleteListUsers:"profile/SET_AUTOCOMPLETE_LIST",getAutocompleteListDirectors:"profile/SET_AUTOCOMPLETE_LIST_DIRECTORS"}),selectFilm(e){this.$router.push({name:"editfilm",params:{id:e._id}})},selectUser(e){this.$router.push({name:"userprofile",params:{id:e._id}})},selectDirector(e){this.$router.push({name:"director",params:{id:e._id}})}},watch:{searchFilms(e){e?this.getAutocompleteListFilms(e).then(e=>{this.filmList=e}):this.filmList=[]},searchUsers(e){e?this.getAutocompleteListUsers(e).then(e=>{this.userList=e}):this.userList=[]},searchDirectors(e){e?this.getAutocompleteListDirectors(e).then(e=>{this.directorList=e}):this.directorList=[]}}},o=n,l=(r("7981"),r("2877")),c=r("6544"),u=r.n(c),d=r("c6a6"),m=r("8336"),h=r("ce7e"),p=r("8860"),f=r("da13"),v=r("5d23"),E=r("f774"),g=Object(l["a"])(o,a,s,!1,null,"f8a26316",null);t["default"]=g.exports;u()(g,{VAutocomplete:d["a"],VBtn:m["a"],VDivider:h["a"],VList:p["a"],VListItem:f["a"],VListItemContent:v["g"],VListItemTitle:v["k"],VNavigationDrawer:E["a"]})},"6c2d":function(e,t,r){},"73cf":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-card-text",[r("v-text-field",{attrs:{id:"username",name:"username","error-messages":e.usernameErrors,label:e.$t("register.login"),required:""},on:{input:function(t){return e.$v.username.$touch()},blur:function(t){return e.$v.username.$touch()}},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}}),r("v-text-field",{attrs:{id:"name",name:"name","error-messages":e.nameErrors,label:e.$t("register.name"),required:""},on:{input:function(t){return e.$v.name.$touch()},blur:function(t){return e.$v.name.$touch()}},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),r("v-text-field",{attrs:{id:"email",name:"email","error-messages":e.emailErrors,label:e.$t("register.email"),required:""},on:{input:function(t){return e.$v.email.$touch()},blur:function(t){return e.$v.email.$touch()}},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),r("v-text-field",{attrs:{id:"password",name:"password","error-messages":e.passwordErrors,label:e.$t("register.password"),required:""},on:{input:function(t){return e.$v.password.$touch()},blur:function(t){return e.$v.password.$touch()}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),r("v-text-field",{attrs:{id:"confirmpassword",name:"confirmpassword","error-messages":e.confirmPasswordErrors,label:e.$t("register.confirmPassword"),required:""},on:{input:function(t){return e.$v.confirmpassword.$touch()},blur:function(t){return e.$v.confirmpassword.$touch()}},model:{value:e.confirmpassword,callback:function(t){e.confirmpassword=t},expression:"confirmpassword"}})],1),r("v-card-actions",[r("v-btn",{attrs:{color:"cyan accent-3",rounded:"",width:"150px",elevation:"6"},on:{click:e.registerUser}},[e._v(e._s(e.$t("register.register")))]),r("router-link",{staticClass:"margin-left",attrs:{to:{name:"login"}}},[e._v(e._s(e.$t("register.haveAccount")))])],1)],1)},s=[],i=r("1dce"),n=r("b5ae"),o=r("2f62"),l={metaInfo:{title:"Register"},mixins:[i["validationMixin"]],validations:{username:{required:n["required"],maxLength:Object(n["maxLength"])(20)},password:{required:n["required"],maxLength:Object(n["maxLength"])(20),minLength:Object(n["minLength"])(5)},name:{required:n["required"],maxLength:Object(n["maxLength"])(100)},email:{required:n["required"],email:n["email"],maxLength:Object(n["maxLength"])(100)},confirmpassword:{required:n["required"],sameAs:Object(n["sameAs"])("password"),maxLength:Object(n["maxLength"])(20),minLength:Object(n["minLength"])(5)}},data:()=>({username:"",password:"",name:"",email:"",confirmpassword:""}),computed:{authErrorOnPage(){return this.getError()},nameErrors(){const e=[];return this.$v.name.$dirty?(!this.$v.name.required&&e.push("Ф.И.О. необходимы"),!this.$v.name.maxLength&&e.push("Количество символов не должно превышать "+this.$v.name.$params.maxLength.max),e):e},usernameErrors(){const e=[];return this.$v.username.$dirty?(!this.$v.username.required&&e.push("Имя необходимо"),!this.$v.username.maxLength&&e.push("Количество символов не должно превышать "+this.$v.username.$params.maxLength.max),e):e},emailErrors(){const e=[];return this.$v.email.$dirty?(!this.$v.email.email&&e.push("Электронная почта должена быть валидной"),!this.$v.email.required&&e.push("Электронная почта необходима"),!this.$v.email.maxLength&&e.push("Количество символов не должно превышать "+this.$v.email.$params.maxLength.max),e):e},passwordErrors(){const e=[];return this.$v.password.$dirty?(!this.$v.password.required&&e.push("Пароль необходим"),!this.$v.password.maxLength&&e.push("Количество символов не должно превышать "+this.$v.password.$params.maxLength.max),!this.$v.password.minLength&&e.push("Количество символов должно быть больше "+this.$v.password.$params.minLength.min),e):e},confirmPasswordErrors(){const e=[];return this.$v.confirmpassword.$dirty?(!this.$v.confirmpassword.required&&e.push("Необходимо подтвердить"),this.confirmpassword!==this.password&&e.push("Пароли не совпадают"),!this.$v.confirmpassword.maxLength&&e.push("Количество символов не должно превышать "+this.$v.confirmpassword.$params.maxLength.max),!this.$v.confirmpassword.minLength&&e.push("Количество символов должно быть больше "+this.$v.confirmpassword.$params.minLength.min),e):e}},methods:{...Object(o["d"])({mut_CLEAR_ERROR:"auth/CLEAR_ERROR"}),...Object(o["b"])("auth",["REGISTER"]),...Object(o["c"])({getError:"auth/ERROR"}),registerUser(){if(this.$v.$touch(),this.$v.$invalid)return void this.appAlert("Валидация","Заполните все необходимые поля правильно!","error");let e={username:this.username,name:this.name,password:this.password,confirm_password:this.confirmpassword,email:this.email};this.REGISTER(e).then(e=>{e.data.success&&this.$router.push("/login")}).catch(e=>{console.log(e)})}},watch:{authErrorOnPage:function(e){e&&this.appAlert("Регистрация",e,"error")}},created(){this.mut_CLEAR_ERROR()}},c=l,u=(r("a894"),r("2877")),d=r("6544"),m=r.n(d),h=r("8336"),p=r("99d9"),f=r("8654"),v=Object(u["a"])(c,a,s,!1,null,null,null);t["default"]=v.exports;m()(v,{VBtn:h["a"],VCardActions:p["b"],VCardText:p["d"],VTextField:f["a"]})},7981:function(e,t,r){"use strict";r("cdf1")},"79bd":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-main",{attrs:{id:"films"}},[r("v-container",{staticClass:"container-min-height",attrs:{"grid-list-lg":""}},[r("v-toolbar",{staticClass:"mt-2 mb-3 pr-2",attrs:{rounded:"lg",height:"100%","max-height":"80px",width:"100%"}},[r("v-text-field",{attrs:{label:e.$t("films.search"),clearable:""},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchByName(t)}},model:{value:e.Search,callback:function(t){e.Search=t},expression:"Search"}}),r("v-btn",{staticClass:"mb-5",attrs:{large:"",icon:""},on:{click:e.searchByName}},[r("v-icon",[e._v("mdi-magnify")])],1)],1),r("v-expansion-panels",{staticClass:"mb-7",attrs:{focusable:"",dark:""},on:{change:e.resetSearchValues},model:{value:e.panel,callback:function(t){e.panel=t},expression:"panel"}},[r("v-expansion-panel",[r("v-expansion-panel-header",[[r("v-row",{attrs:{"no-gutters":""}},[r("v-col",{attrs:{cols:"12"}},[e._v(" "+e._s(e.$t("films.extendedSearch"))+" ")])],1)]],2),r("v-expansion-panel-content",[r("v-row",{attrs:{"no-gutters":""}},[r("v-col",{staticClass:"d-flex",attrs:{sm:"3",xs:"12"}},[r("v-select",{attrs:{clearable:"",items:e.AllGenres,"item-text":"name",chips:"","small-chips":"",multiple:"",label:e.$t("films.chooseGenre"),color:"black","prepend-icon":"mdi-filmstrip","return-object":""},model:{value:e.Genres,callback:function(t){e.Genres=t},expression:"Genres"}})],1),r("v-col",{staticClass:"d-flex ml-2",attrs:{sm:"3",xs:"12"}},[r("v-select",{attrs:{clearable:"","prepend-icon":"mdi-account",color:"black",items:e.AllDirectors,"small-chips":"","item-text":"name",chips:"",multiple:"",label:e.$t("films.chooseDirector"),"return-object":""},model:{value:e.CompDirectors,callback:function(t){e.CompDirectors=t},expression:"CompDirectors"}})],1),r("v-col",{staticClass:"d-flex ml-2 align-center",attrs:{sm:"5",xs:"12"}},[r("v-range-slider",{attrs:{"hide-details":"",dense:"",label:e.$t("films.chooseYear"),max:"2021",min:"1950","thumb-label":"always","thumb-color":"grey"},on:{mouseup:e.rangeValue},model:{value:e.rangeYear,callback:function(t){e.rangeYear=t},expression:"rangeYear"}})],1)],1)],1)],1)],1),e.FilmLsit&&e.FilmLsitTotal?r("v-layout",{attrs:{row:"",wrap:""}},e._l(e.FilmLsit,(function(t,a){return r("v-flex",{key:a,staticClass:"align-start",attrs:{xs12:"",sm6:"",md4:""}},[r("v-hover",{scopedSlots:e._u([{key:"default",fn:function(a){var s=a.hover;return[r("v-card",{staticClass:"text-center pt-3 pl-3 pr-3",attrs:{shaped:"","min-height":"420px"}},[t.poster?r("v-img",{attrs:{height:"200px",src:t.poster.file_path,alt:""}}):e._e(),r("v-card-subtitle",{staticClass:"RussoOneFont"},[e._v(" "+e._s(t.name)+" ")]),r("v-card-subtitle",{staticClass:"subtitle-2 pt-0"},[e._v(e._s(t.teaser))]),r("v-fade-transition",[s?r("v-overlay",{attrs:{"z-index":"0",opacity:"0.6",absolute:"",color:"#fff"}},[r("v-btn",{on:{click:function(r){return e.goToFilmDetails(t._id)}}},[e._v(e._s(e.$t("films.seeMore")))]),e.admin?r("v-btn",{staticClass:"ml-5",attrs:{color:"black",icon:"",to:{name:"editfilm",params:{id:t._id}}}},[r("v-icon",{attrs:{large:""}},[e._v("mdi-pencil-circle")])],1):e._e()],1):e._e()],1)],1)]}}],null,!0)})],1)})),1):0===e.FilmLsitTotal?r("v-layout",{staticClass:"vElseContainer",attrs:{row:""}},[r("v-flex",[r("v-card",{staticClass:"d-flex justify-center align-center",attrs:{width:"100%",height:"100%"}},[e._v("Нет фильмов")])],1)],1):null===e.FilmLsitTotal?r("v-layout",{staticClass:"vElseContainer"},[r("v-flex",[r("v-card",{staticClass:"d-flex justify-center align-center",attrs:{width:"100%",height:"100%"}},[e._v("Ждем-c")])],1)],1):e._e(),r("v-card-actions",{staticClass:"mb-5 justify-center"},[e.FilmLsitTotal?r("v-pagination",{attrs:{color:"light-blue darken-2",circle:"",light:"","total-visible":"10",length:e.PaginatonCounter},model:{value:e.currentSelectedPage,callback:function(t){e.currentSelectedPage=t},expression:"currentSelectedPage"}}):e._e()],1)],1),r("Footer")],1)},s=[],i=r("f657"),n=r("2f62"),o={metaInfo:{title:"Films"},data(){return{panel:null,setRange:null,searchText:"",admin:null,unwatch:null}},components:{Footer:i["default"]},computed:{...Object(n["c"])({PaginatonCounter:"film/paginatonsCounter"}),...Object(n["e"])({FilmLsitTotal:e=>e.film.listTotal,FilmLsit:e=>e.film.list,AllGenres:e=>e.genre.list,AllDirectors:e=>e.director.list}),currentSelectedPage:{get(){return this.$store.state.film.pageSet.pageNumber},set(e){this.setPageSetPageNumber(e)}},rangeYear:{get(){return this.$store.state.film.pageSet.range},set(e){this.setPageSetPageNumber(1),this.setRange=e}},Genres:{get(){return this.$store.state.film.pageSet.genres},set(e){this.setPageSetPageNumber(1),this.setPageSetGenre(e)}},CompDirectors:{get(){return this.$store.state.film.pageSet.director},set(e){this.setPageSetPageNumber(1),this.setPageSetDirectors(e)}},Search:{get(){return this.$store.state.film.pageSet.search},set(e){this.setPageSetPageNumber(1),this.searchText=e}}},methods:{...Object(n["b"])({uploadGenresList:"genre/SET_LIST",loadFilmsList:"film/SET_LIST",setListOfDirectors:"director/SET_LIST",getProfile:"auth/GET_PROFILE"}),...Object(n["d"])({setPageSetPageNumber:"film/SET_PAGESET_PAGE_NUMBER",setPageSetRangeYear:"film/SET_PAGESET_YEAR_RANGE",setPageSetGenre:"film/SET_PAGESET_GENRES",setPageSetDirectors:"film/SET_PAGESET_DIRECTORS",setPageSetSearch:"film/SET_PAGESET_SEARCH"}),goToFilmDetails(e){this.$router.push({name:"filmditails",params:{id:e}})},rangeValue(){this.setPageSetRangeYear(this.setRange)},searchByName(){this.setPageSetSearch(this.searchText)},resetSearchValues(){void 0===this.panel&&console.log("PANEL CLOSED")}},mounted(){this.unwatch=this.$store.watch(e=>e.film.pageSet,()=>{console.log("changed"),this.loadFilmsList()},{deep:!0}),Promise.all([this.getProfile(),this.loadFilmsList(),this.uploadGenresList(),this.setListOfDirectors()]).then(e=>{const[t]=e;this.user=t.user,this.admin=t.admin,this.Loading=!1}).catch(e=>{console.log(e)})},beforeDestroy(){this.unwatch()}},l=o,c=(r("a494"),r("2877")),u=r("6544"),d=r.n(u),m=r("8336"),h=r("b0af"),p=r("99d9"),f=r("62ad"),v=r("a523"),E=r("cd55"),g=r("49e2"),_=r("c865"),T=r("0393"),I=r("0789"),b=r("0e8f"),S=r("ce87"),R=r("132d"),L=r("adda"),$=r("a722"),C=r("f6c4"),A=r("a797"),x=r("891e"),y=r("5963"),O=r("0fd9"),w=r("b974"),N=r("8654"),P=r("71d9"),U=Object(c["a"])(l,a,s,!1,null,"60aa95b8",null);t["default"]=U.exports;d()(U,{VBtn:m["a"],VCard:h["a"],VCardActions:p["b"],VCardSubtitle:p["c"],VCol:f["a"],VContainer:v["a"],VExpansionPanel:E["a"],VExpansionPanelContent:g["a"],VExpansionPanelHeader:_["a"],VExpansionPanels:T["a"],VFadeTransition:I["i"],VFlex:b["a"],VHover:S["a"],VIcon:R["a"],VImg:L["a"],VLayout:$["a"],VMain:C["a"],VOverlay:A["a"],VPagination:x["a"],VRangeSlider:y["a"],VRow:O["a"],VSelect:w["a"],VTextField:N["a"],VToolbar:P["a"]})},"7a20":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-dialog",{attrs:{persistent:"","max-width":"600px"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,s=t.attrs;return[r("v-btn",e._g(e._b({attrs:{large:"",icon:""},on:{click:e.addDirector}},"v-btn",s,!1),a),[r("v-icon",{attrs:{color:"blue"}},[e._v("mdi-library-plus")])],1)]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[r("v-card",[r("v-card-title",[r("span",{staticClass:"headline"},[e._v("Режиссер")])]),r("v-card-text",[r("v-container",[r("v-row",[r("v-col",{attrs:{cols:"12"}},[r("v-text-field",{attrs:{"error-messages":e.nameErrors,clearable:"",label:"Имя"},on:{input:function(t){return e.$v.Name.$touch()},blur:function(t){return e.$v.Name.$touch()}},model:{value:e.Name,callback:function(t){e.Name=t},expression:"Name"}}),r("v-text-field",{staticClass:"mt-3",attrs:{"error-messages":e.imageErrors,dense:"",filled:"",readonly:"",label:"Загрузите постер",placeholder:"Постер"},on:{input:function(t){return e.$v.Image.$touch()},blur:function(t){return e.$v.Image.$touch()}},scopedSlots:e._u([{key:"append",fn:function(){return[r("v-btn",{staticClass:"text-none mb-3",attrs:{color:"primary"},on:{click:e.onPosterFileButtonClick}},[r("v-icon",{attrs:{left:""}},[e._v(" mdi-cloud-upload ")]),e._v(" Загрузить ")],1),r("input",{ref:"uploaderPoster",staticClass:"d-none",attrs:{type:"file",accept:"image/*"},on:{change:e.onPosterFileChanged}})]},proxy:!0}]),model:{value:e.Image,callback:function(t){e.Image=t},expression:"Image"}})],1)],1)],1)],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){e.dialog=!1,e.$v.$reset()}}},[e._v(" Закрыть ")]),r("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.saveDirector}},[e._v(" Сохранить ")])],1)],1)],1)},s=[],i=r("2f62"),n=r("1dce"),o=r("b5ae"),l={data(){return{dialog:!1}},mixins:[n["validationMixin"]],validations:{Name:{required:o["required"],maxLength:Object(o["maxLength"])(25)},Image:{required:o["required"]}},computed:{Name:{get(){return this.$store.state.director.currentItem.name},set(e){this.mutSetDirectorName(e)}},Image:{get(){return this.$store.state.director.currentItem.image}},nameErrors(){const e=[];return this.$v.Name.$dirty?(!this.$v.Name.required&&e.push("Название необходимо"),!this.$v.Name.maxLength&&e.push("Количество символов не должно превышать "+this.$v.Name.$params.maxLength.max),e):e},imageErrors(){const e=[];return this.$v.Image.$dirty?(!this.$v.Image.required&&e.push("Картинка необходимо"),e):e}},methods:{...Object(i["b"])({setListOfDirectors:"director/SET_LIST",saveNewDirector:"director/SAVE_NEW_DIRECTOR",setDirectorImage:"director/SET_DIRECTOR_IMAGE"}),...Object(i["d"])({addNewDirector:"director/ADD_NEW_DIRECTOR",mutSetDirectorName:"director/SET_CURRENT_NAME",mutSetDirectorImageAndImageData:"director/SET_CURRENT_IMAGE"}),addDirector(){this.addNewDirector()},onPosterFileButtonClick(){this.$refs.uploaderPoster.click()},onPosterFileChanged(e){this.setDirectorImage(e.target.files[0])},saveDirector(){this.$v.$touch(),this.$v.$invalid?this.appAlert("filmError","Валидация","Заполните все необходимые поля правильно!","error"):this.saveNewDirector().then(()=>{this.setListOfDirectors().then(e=>{this.$emit("getDirectors",e),this.$v.$reset(),this.dialog=!1})})}}},c=l,u=r("2877"),d=r("6544"),m=r.n(d),h=r("8336"),p=r("b0af"),f=r("99d9"),v=r("62ad"),E=r("a523"),g=r("169a"),_=r("132d"),T=r("0fd9"),I=r("2fa4"),b=r("8654"),S=Object(u["a"])(c,a,s,!1,null,null,null);t["default"]=S.exports;m()(S,{VBtn:h["a"],VCard:p["a"],VCardActions:f["b"],VCardText:f["d"],VCardTitle:f["e"],VCol:v["a"],VContainer:E["a"],VDialog:g["a"],VIcon:_["a"],VRow:T["a"],VSpacer:I["a"],VTextField:b["a"]})},"8b10":function(e,t,r){var a={"./components/AddDirector.vue":["7a20"],"./components/AddGenre.vue":["363e"],"./components/AppFooter.vue":["f657"],"./components/AppLocale.vue":["55be","layout-components-AppLocale-vue"],"./components/AppProfileBar.vue":["5f1a"],"./layouts/authlayout.vue":["9977","layout-layouts-authlayout-vue"],"./layouts/default.vue":["7b3d","layout-layouts-default-vue"],"./layouts/empty.vue":["3308","layout-layouts-empty-vue"],"./views/About.vue":["f820"],"./views/Director.vue":["dd6f"],"./views/Film.vue":["4344"],"./views/FilmDetails.vue":["0c7e"],"./views/Films.vue":["79bd"],"./views/Home.vue":["bb51"],"./views/Login.vue":["a55b"],"./views/Notfound.vue":["2a31"],"./views/Profile.vue":["c66d"],"./views/Register.vue":["73cf"],"./views/User.vue":["1511"]};function s(e){if(!r.o(a,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],s=t[0];return Promise.all(t.slice(1).map(r.e)).then((function(){return r(s)}))}s.keys=function(){return Object.keys(a)},s.id="8b10",e.exports=s},"8df2":function(e,t,r){e.exports=r.p+"img/left-arrow.d8002df0.svg"},"903a":function(e,t,r){"use strict";r.r(t),r.d(t,"namespaced",(function(){return n})),r.d(t,"state",(function(){return o})),r.d(t,"mutations",(function(){return l})),r.d(t,"actions",(function(){return c})),r.d(t,"getters",(function(){return u}));var a=r("a078"),s=r("bc3a"),i=r.n(s);const n=!0,o=()=>({list:[]}),l={SET_LIST(e,t){e.list=t},SAVE_NEW_ITEM(e,t){e.list.push(t)}},c={async SET_LIST({commit:e}){const t=await i.a.get(a["a"].API.BASE_URL+a["a"].API.GENRE.LIST).then(t=>(e("SET_LIST",t.data),t.data)).catch(e=>{console.log(e)});return t},async SAVE_NEW_ITEM({commit:e},t){await i.a.post(a["a"].API.BASE_URL+a["a"].API.GENRE.LIST,t).then(r=>(e("SAVE_NEW_ITEM",t),r)).catch(e=>{console.log(e)})}},u={}},"906c":function(e,t,r){"use strict";r.r(t),r.d(t,"namespaced",(function(){return c})),r.d(t,"state",(function(){return d})),r.d(t,"mutations",(function(){return m})),r.d(t,"actions",(function(){return h})),r.d(t,"getters",(function(){return p}));var a=r("a078"),s=r("bc3a"),i=r.n(s),n=r("b383"),o=r.n(n),l=r("a18c");const c=!0,u=()=>({currentItem:{},list:null,listTotal:null,OneFilmFile:null,OneFilmPosterImage:null,Loading:!1,pageSet:{pageNumber:1,pageSize:9,range:[1950,2021],search:"",director:[],genres:[]}}),d=()=>u(),m={SET_LIST(e,t){e.list=t},SET_LIST_TOTAL(e,t){e.listTotal=t},SET_CURRENT_ITEM(e,t){e.currentItem=t},SET_CURRENT_ITEM_AS_DETAILS(e,t){e.currentItem=t},SET_CURRENT_NAME(e,t){e.currentItem.name=t},SET_CURRENT_TEASER(e,t){e.currentItem.teaser=t},SET_CURRENT_GENRE(e,t){e.currentItem.genre=t},SET_CURRENT_DIRECTOR(e,t){e.currentItem.director=t},SET_CURRENT_YEAR(e,t){e.currentItem.year=t},SET_CURRENT_DESCRIPTION(e,t){e.currentItem.description=t},SET_CURRENT_SOCIAL_FACEBOOK(e,t){e.currentItem.social.facebook=t},SET_CURRENT_SOCIAL_TWITTER(e,t){e.currentItem.social.twitter=t},SET_CURRENT_SOCIAL_INSTAGRAM(e,t){e.currentItem.social.instagram=t},SET_CURRENT_LINK(e,t){e.currentItem.link=t},SET_CURRENT_POSTER(e,t){e.currentItem.poster.file_name=t},SET_FILM_FILE(e,t){e.OneFilmFile=t},SET_POSTER_FILE(e,t){e.OneFilmPosterImage=t},SET_LOADING(e,t){e.Loading=t},ADD_NEW_ITEM(e){e.OneFilmFile=null,e.OneFilmPosterImage=null;const t={description:"",genre:[],link:"",name:"",teaser:"",year:"",poster:{file_name:""},director:[],social:{facebook:"",twitter:"",instagram:""}};e.currentItem=t},SET_PAGESET_PAGE_NUMBER(e,t){e.pageSet.pageNumber=t},SET_PAGESET_YEAR_RANGE(e,t){e.pageSet.range=t},SET_PAGESET_GENRES(e,t){console.log(t),e.pageSet.genres=t},SET_PAGESET_DIRECTORS(e,t){e.pageSet.director=t},SET_PAGESET_SEARCH(e,t){e.pageSet.search=t},RESET_STATE(e){Object.assign(e,u())}},h={async SET_LIST({state:e,commit:t}){const r=Object.assign({},e.pageSet);r.director.length>0&&(r.director=r.director.map(e=>e._id)),r.genres.length>0&&(r.genres=r.genres.map(e=>e._id));const s=o.a.stringify(r),n=await i.a.get(a["a"].API.BASE_URL+a["a"].API.FILM.PAGINATION+"?"+s).then(e=>(t("SET_LIST",e.data.filmList),t("SET_LIST_TOTAL",e.data.filmListCount),e.data.filmList)).catch(e=>{console.log(e)});return n},async SET_AUTOCOMPLETE_LIST({commit:e},t){let r=await i.a.get(a["a"].API.BASE_URL+a["a"].API.FILM.AUTOCOMPLETE+"?search="+t).then(t=>(console.log(t.data),e("SET_LIST",t.data),t.data)).catch(e=>{console.log(e)});return r},async SET_CURRENT_ITEM({commit:e},t){await i.a.get(a["a"].API.BASE_URL+a["a"].API.FILM.LIST+"/"+t).then(t=>{e("SET_CURRENT_ITEM",t.data)}).catch(e=>{console.log(e)})},async SET_CURRENT_ITEM_AS_DETAILS({commit:e},t){return await i.a.get(a["a"].API.BASE_URL+a["a"].API.FILM.DETAILS+"/"+t).then(t=>(e("SET_CURRENT_ITEM",t.data),t.data)).catch(e=>{console.log(e)})},async ADD_NEW_ITEM({commit:e}){e("ADD_NEW_ITEM")},async SAVE_CURRENT_ITEM({state:e,commit:t}){t("SET_LOADING",!0);let r=new FormData;e.OneFilmPosterImage&&(r.append("file",e.OneFilmPosterImage,"image"),r.append("imageMetaData",e.OneFilmPosterImage.name)),e.OneFilmFile&&(r.append("file",e.OneFilmFile,"movie"),r.append("movieMetaData",e.OneFilmFile.name));let s=e.currentItem;r.append("film",JSON.stringify(s));let n=null;return await i.a.post(a["a"].API.BASE_URL+a["a"].API.FILM.LIST,r,{headers:{"Content-Type":"multipart/form-data"}}).then(e=>{t("SET_CURRENT_ITEM",e.data),t("SET_LOADING",!1),n={data:e.data,status:e.status},l["a"].push({name:"filmditails",params:{id:e.data._id}})}).catch(e=>{t("SET_LOADING",!1),n={data:e.response.data,status:e.response.status}}),n},async EDIT_CURRENT_ITEM({state:e,commit:t}){t("SET_LOADING",!0);const r=e.currentItem._id,s=Object.assign({},e.currentItem);delete s._id;let n=new FormData;e.OneFilmPosterImage&&(n.append("file",e.OneFilmPosterImage,"image"),n.append("imageMetaData",e.OneFilmPosterImage.name)),e.OneFilmFile&&(n.append("file",e.OneFilmFile,"movie"),n.append("movieMetaData",e.OneFilmFile.name)),n.append("film",JSON.stringify(s));let o=null;return await i.a.put(a["a"].API.BASE_URL+a["a"].API.FILM.LIST+"/"+r,n,{headers:{"Content-Type":"multipart/form-data"}}).then(e=>{t("SET_CURRENT_ITEM",e.data),t("SET_LOADING",!1),o=o={data:e.data,status:e.status},l["a"].push({name:"filmditails",params:{id:r}})}).catch(e=>{t("SET_LOADING",!1),o={data:e.response.data,status:e.response.status}}),o},async DELETE_CURRENT_ITEM({commit:e},t){let r=null;return await i.a.delete(a["a"].API.BASE_URL+a["a"].API.FILM.LIST+"/"+t).then(t=>{e("SET_CURRENT_ITEM",{}),r={data:t.data,status:t.status},l["a"].push({name:"films"})}).catch(e=>{r={data:e.response.data,status:e.response.status}}),r},RESET_STATE({commit:e}){e("RESET_STATE")}},p={paginatonsCounter(e){let t=e.listTotal,r=e.pageSet.pageSize;return Math.ceil(t/r)}}},"9c0c":function(e,t,r){},"9d1e":function(e,t,r){},a078:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));const a={API:{BASE_URL:"https://sleepy-spire-00702.herokuapp.com/api",FILM:{LIST:"/films",PAGINATION:"/films/page",DETAILS:"/films/details",AUTOCOMPLETE:"/films/filmsautocomplete"},USER:{LOGIN:"/user/login",LOGIN_ADMIN:"/user/adminlogin",REGISTER:"/user/register",PROFILE:"/user/profile",PROFILE_AUTOCOMPLETE_LIST:"/user/autocompleteprofile",PROFILE_AUTOCOMPLETE_LIST_DIRECTORS:"/director/directorsautocomplete",USERPROFILE:"/user/userprofile",EDITPROFILE:"/user/editprofile",LOGOUT:"/user/logout"},DIRECTOR:{LIST:"/director"},GENRE:{LIST:"/genre"}}}},a18c:function(e,t,r){"use strict";var a=r("2b0e"),s=r("8c4f"),i=r("bb51"),n=r("4344"),o=r("2a31"),l=r("79bd"),c=r("a55b"),u=r("73cf"),d=r("c66d"),m=r("0c7e"),h=r("1511"),p=r("f820"),f=r("dd6f"),v=r("4360");a["default"].use(s["a"]);const E=[{path:"/",name:"home",component:i["default"],meta:{layout:"empty",requiresAuth:!0,transition:"fade"}},{path:"/films",name:"films",component:l["default"],meta:{requiresAuth:!0}},{path:"*",name:"notfound",component:o["default"],meta:{layout:"empty",requiresAuth:!0}},{path:"/editfilm/:id",name:"editfilm",component:n["default"],meta:{requiresAuth:!0}},{path:"/filmdetails/:id",name:"filmditails",component:m["default"],meta:{requiresAuth:!0,transition:"zoom"}},{path:"/director/:id",name:"director",component:f["default"],meta:{requiresAuth:!0}},{path:"/login",name:"login",component:c["default"],meta:{layout:"authlayout"}},{path:"/register",name:"register",component:u["default"],meta:{layout:"authlayout"}},{path:"/profile",name:"profile",component:d["default"],meta:{requiresAuth:!0}},{path:"/userprofile/:id",name:"userprofile",component:h["default"],meta:{requiresAuth:!0}},{path:"/about",name:"about",component:p["default"],meta:{layout:"empty",requiresAuth:!1}}],g=new s["a"]({mode:"history",routes:E});g.beforeEach((e,t,r)=>{e.matched.some(e=>e.meta.requiresAuth)?v["a"].getters["auth/LOGGED"]?r():r("/login"):r()}),t["a"]=g},a494:function(e,t,r){"use strict";r("1024")},a495:function(e,t,r){"use strict";r("6c2d")},a55b:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-card-text",[r("v-text-field",{attrs:{id:"username",name:"username","error-messages":e.nameErrors,label:e.$t("login.login"),required:""},on:{input:function(t){return e.$v.username.$touch()},blur:function(t){return e.$v.username.$touch()}},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}}),r("v-text-field",{attrs:{id:"password",name:"password","error-messages":e.passwordErrors,label:e.$t("login.password"),required:""},on:{input:function(t){return e.$v.password.$touch()},blur:function(t){return e.$v.password.$touch()}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),r("v-switch",{attrs:{color:"cyan accent-3",label:e.$t("login.asAdmin")},model:{value:e.checkbox,callback:function(t){e.checkbox=t},expression:"checkbox"}})],1),r("v-card-actions",[r("v-btn",{attrs:{color:"cyan accent-3",rounded:"",width:"150px",elevation:"6"},on:{click:e.loginUser}},[e._v(e._s(e.$t("login.enter")))]),r("router-link",{staticClass:"margin-left",attrs:{to:{name:"register"}}},[e._v(e._s(e.$t("login.getAccount")))])],1)],1)},s=[],i=r("1dce"),n=r("b5ae"),o=r("2f62"),l={metaInfo:{title:"Login"},data:()=>({username:"",password:"",checkbox:!1,error:null}),mixins:[i["validationMixin"]],validations:{username:{required:n["required"],maxLength:Object(n["maxLength"])(10)},password:{required:n["required"]}},computed:{authErrorOnPage(){return this.getError()},nameErrors(){const e=[];return this.$v.username.$dirty?(!this.$v.username.required&&e.push("Имя необходимо"),e):e},passwordErrors(){const e=[];return this.$v.password.$dirty?(!this.$v.password.required&&e.push("Пароль необходим"),e):e}},methods:{...Object(o["d"])({mut_CLEAR_ERROR:"auth/CLEAR_ERROR"}),...Object(o["b"])({LOGIN:"auth/LOGIN",LOGIN_ADMIN:"auth/LOGIN_ADMIN"}),...Object(o["c"])({getError:"auth/ERROR"}),clearError(){this.mut_CLEAR_ERROR()},loginUser(){if(this.$v.$touch(),this.$v.$invalid)return void this.appAlert("Валидация","Заполните все необходимые поля правильно!","error");const e={username:this.username,password:this.password};this.checkbox?(console.log("LOGIN ADMIN"),this.LOGIN_ADMIN(e).then(e=>{e.data.success&&this.$router.push("/")}).catch(e=>{console.log(e)})):(console.log("LOGIN USER"),this.LOGIN(e).then(e=>{e&&e.data.success&&this.$router.push("/")}).catch(e=>{console.log(e)}))}},watch:{authErrorOnPage:function(e){e&&this.appAlert("Логин",e,"error")}},created(){this.mut_CLEAR_ERROR()}},c=l,u=(r("326c"),r("2877")),d=r("6544"),m=r.n(d),h=r("8336"),p=r("99d9"),f=r("b73d"),v=r("8654"),E=Object(u["a"])(c,a,s,!1,null,"0f55a3aa",null);t["default"]=E.exports;m()(E,{VBtn:h["a"],VCardActions:p["b"],VCardText:p["d"],VSwitch:f["a"],VTextField:v["a"]})},a894:function(e,t,r){"use strict";r("db38")},b6f9:function(e,t,r){"use strict";r("2793")},bb51:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"myContainer",on:{click:e.skipIntro}},[r("h1",{staticClass:"introTitle"},[e._v("welcome")]),r("div",{ref:"clip",staticClass:"clip"})])},s=[],i={metaInfo:{title:"Welcome Page"},data(){return{timer:null}},name:"Home",methods:{skipIntro(){clearTimeout(this.timer),this.$router.push({name:"films"})},skipIntroByAnyKey(e){console.log(e),clearTimeout(this.timer),this.$router.push({name:"films"})}},mounted(){const e=r("e93f"),t=this.$refs.clip;t.addEventListener("animationend",()=>{t.style.backgroundImage=`url(${e})`,setTimeout(()=>{this.$router.push({name:"films"})},2e3)})}},n=i,o=(r("507c"),r("2877")),l=Object(o["a"])(n,a,s,!1,null,"78793c66",null);t["default"]=l.exports},bbba:function(e,t,r){},c57e:function(e,t,r){e.exports=r.p+"img/mountain.ecd840aa.png"},c66d:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-main",[e.user?r("v-container",{staticClass:"d-flex justify-center align-center myAquaBackGround",attrs:{fluid:""}},[e.admin?r("AppProfileBar"):e._e(),r("v-card",{staticClass:"myCardStyles positionRelative rounded-xl",attrs:{width:"100%","min-height":"60vh","max-width":"700px","min-width":"300px",outlined:""}},[r("div",{staticClass:"myCircle myCircle_top d-none d-md-block d-lg-block d-xl-block"}),r("div",{staticClass:"myCircle myCircle_bottom d-none d-md-block d-lg-block d-xl-block"}),e.admin?r("v-card-title",[r("vue-typer",{attrs:{text:"Профиль пользователя (Администратор)",repeat:0}})],1):r("v-card-title",[e._v("Профиль пользователя")]),r("v-card-text",[r("v-text-field",{attrs:{readonly:"",label:"Ф.И.О"},model:{value:e.user.name,callback:function(t){e.$set(e.user,"name",t)},expression:"user.name"}}),r("v-text-field",{attrs:{readonly:"",label:"Логин"},model:{value:e.user.username,callback:function(t){e.$set(e.user,"username",t)},expression:"user.username"}}),r("v-text-field",{attrs:{readonly:"",label:"Электронная почта"},model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}})],1),r("v-card-actions",{staticClass:"justify-center"},[r("v-btn",{staticClass:"pr-6 pl-6",attrs:{rounded:"",color:"cyan lighten-1",dark:""},on:{click:function(t){return e.$router.go(-1)}}},[e._v("Назад")])],1)],1)],1):e._e()],1)},s=[],i=r("5f1a"),n=r("2f62"),o={metaInfo:{title:"Profile"},data(){return{user:null,admin:null}},components:{AppProfileBar:i["default"]},methods:{...Object(n["b"])("auth",["GET_PROFILE"])},created(){this.GET_PROFILE().then(e=>{this.user=e.user,this.admin=e.admin})}},l=o,c=(r("1269"),r("2877")),u=r("6544"),d=r.n(u),m=r("8336"),h=r("b0af"),p=r("99d9"),f=r("a523"),v=r("f6c4"),E=r("8654"),g=Object(c["a"])(l,a,s,!1,null,"f4c5a7d4",null);t["default"]=g.exports;d()(g,{VBtn:m["a"],VCard:h["a"],VCardActions:p["b"],VCardText:p["d"],VCardTitle:p["e"],VContainer:f["a"],VMain:v["a"],VTextField:E["a"]})},c743:function(e,t,r){},c7d4:function(e,t,r){"use strict";r.r(t),r.d(t,"namespaced",(function(){return o})),r.d(t,"state",(function(){return l})),r.d(t,"mutations",(function(){return c})),r.d(t,"actions",(function(){return u})),r.d(t,"getters",(function(){return d}));var a=r("a078"),s=r("a18c"),i=r("bc3a"),n=r.n(i);const o=!0,l=()=>({token:localStorage.getItem("token")||"",user:{},status:"",error:null}),c={CLEAR_ERROR(e){e.error=null},AUTH_REQUEST(e){e.error=null,e.status="loading"},AUTH_SUCCESS(e,t,r){e.error=null,e.token=t,e.user=r},REGISTER_REQUEST(e){e.error=null,e.status="loading"},REGISTER_SUCCESS(e){e.error=null,e.status="success"},PROFILE_REQUEST(e){e.error=null,e.status="loading"},USER_PROFILE(e,t){e.user=t},LOGOUT(e){e.error=null,e.status="",e.token="",e.user=""},AUTH_ERROR(e,t){e.error=t.response.data.msg},AUTH_ADMIN_ERROR(e,t){e.error=t.response.data.msg},REGISTER_ERROR(e,t){e.error=t.response.data.msg}},u={async LOGIN({commit:e},t){e("AUTH_REQUEST");try{let r=await n.a.post(a["a"].API.BASE_URL+a["a"].API.USER.LOGIN,t);if(r.data.success){const t=r.data.token,a=r.data.user;localStorage.setItem("token",t),n.a.defaults.headers.common["Authorization"]=t,e("AUTH_SUCCESS",t,a)}return r}catch(r){e("AUTH_ERROR",r)}},async LOGIN_ADMIN({commit:e},t){e("AUTH_REQUEST");try{let r=await n.a.post(a["a"].API.BASE_URL+a["a"].API.USER.LOGIN_ADMIN,t);if(r.data.success){const t=r.data.token,a=r.data.user;localStorage.setItem("token",t),n.a.defaults.headers.common["Authorization"]=t,e("AUTH_SUCCESS",t,a)}return r}catch(r){e("AUTH_ADMIN_ERROR",r)}},async REGISTER({commit:e},t){e("REGISTER_REQUEST");try{let r=await n.a.post(a["a"].API.BASE_URL+a["a"].API.USER.REGISTER,t);return void 0!==r.data.success&&e("REGISTER_SUCCESS"),r}catch(r){e("REGISTER_ERROR",r)}},async GET_PROFILE({commit:e}){try{e("PROFILE_REQUEST");let t=await n.a.get(a["a"].API.BASE_URL+a["a"].API.USER.PROFILE);return e("USER_PROFILE",t.data.user),t.data.user}catch(t){"Unauthorized"===t.response.data&&401===t.response.status&&(console.log("Удалить токен"),localStorage.removeItem("token"),this.reset(),s["a"].push("/login"))}},async LOGOUT({commit:e}){await localStorage.removeItem("token"),delete n.a.defaults.headers.common["Authorization"],await n.a.delete(a["a"].API.BASE_URL+a["a"].API.USER.LOGOUT),this.reset(),e("LOGOUT"),s["a"].push("/login")}},d={LOGGED(e){return""!=e.token},GETUSER(e){return e.user},STATUS(e){return e.status},ERROR(e){return e.error}}},cdf1:function(e,t,r){},d1e4:function(e,t,r){"use strict";r.r(t),r.d(t,"namespaced",(function(){return a})),r.d(t,"state",(function(){return s})),r.d(t,"mutations",(function(){return i})),r.d(t,"getters",(function(){return n}));const a=!0,s=()=>({films:{pageNumber:1,pageSize:9}}),i={SET_CURRENT_FILMS_PAGINATION(e,t){console.log("HELLO FROM MUTATION PAGIN"),console.log(t),e.films=t}},n={GET_FILMS_PAGINATION(e){return e.films}}},d307:function(e,t,r){var a={"./auth.js":"c7d4","./director.js":"e460","./film.js":"906c","./genre.js":"903a","./locale.js":"0eec","./modules.js":"1dc6","./pagination.js":"d1e4","./profile.js":"2cc2"};function s(e){var t=i(e);return r(t)}function i(e){if(!r.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}s.keys=function(){return Object.keys(a)},s.resolve=i,e.exports=s,s.id="d307"},d731:function(e,t,r){e.exports=r.p+"img/moon.d561442c.png"},d9fa:function(e,t,r){e.exports=r.p+"img/bg.5df9840d.jpg"},db38:function(e,t,r){},dd6f:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-main",{staticClass:"d-flex align-center Wrapper"},[r("v-container",{staticClass:"d-flex justify-center align-center pa-10",attrs:{fluid:""}},[r("v-card",{staticClass:"text-center",attrs:{dark:"",elevation:"15","max-width":"800px",width:"100%"}},["new"!==this.$route.params.id?r("v-card-title",[e._v("Страница режиссера"),r("v-spacer"),r("v-btn",{attrs:{color:"red"},on:{click:function(t){return e.deleteItem(e.$route.params.id)}}},[e._v(" удалить ")])],1):r("v-card-title",{staticClass:"justify-center"},[e._v("Добавление режиссера ")]),r("v-card-text",[r("v-text-field",{attrs:{"error-messages":e.nameErrors,label:"Имя",placeholder:"Введите имя"},on:{input:function(t){return e.$v.Name.$touch()},blur:function(t){return e.$v.Name.$touch()}},model:{value:e.Name,callback:function(t){e.Name=t},expression:"Name"}}),r("v-text-field",{staticClass:"mt-3",attrs:{"error-messages":e.imageErrors,dense:"",filled:"",readonly:"",label:"Загрузите постер",placeholder:"Постер"},on:{input:function(t){return e.$v.Image.$touch()},blur:function(t){return e.$v.Image.$touch()}},scopedSlots:e._u([{key:"append",fn:function(){return[r("v-btn",{staticClass:"text-none mb-3",on:{click:e.onPosterFileButtonClick}},[r("v-icon",{attrs:{left:""}},[e._v(" mdi-cloud-upload ")]),e._v(" Загрузить ")],1),r("input",{ref:"uploaderPoster",staticClass:"d-none",attrs:{type:"file",accept:"image/*"},on:{change:e.onPosterFileChanged}})]},proxy:!0}]),model:{value:e.Image,callback:function(t){e.Image=t},expression:"Image"}})],1),r("v-card-actions",[r("v-btn",{on:{click:e.save}},[e._v(" Сохранить ")]),r("v-spacer"),r("v-btn",{on:{click:function(t){return e.$router.go(-1)}}},[e._v(" Назад ")])],1)],1)],1)],1)},s=[],i=r("2f62"),n=r("1dce"),o=r("b5ae"),l={metaInfo:{title:"Edit / Save Director"},data(){return{dataLoaded:!1}},mixins:[n["validationMixin"]],validations:{Name:{required:o["required"],maxLength:Object(o["maxLength"])(25)},Image:{required:o["required"]}},computed:{Name:{get(){return this.$store.state.director.currentItem.name},set(e){this.mutSetDirectorName(e)}},Image:{get(){return this.$store.state.director.currentItem.image}},nameErrors(){const e=[];return this.$v.Name.$dirty?(!this.$v.Name.required&&e.push("Имя необходимо"),!this.$v.Name.maxLength&&e.push("Количество символов не должно превышать "+this.$v.Name.$params.maxLength.max),e):e},imageErrors(){const e=[];return this.$v.Image.$dirty?(!this.$v.Image.required&&e.push("Фотография необходима"),e):e}},methods:{...Object(i["b"])({setListOfDirectors:"director/SET_LIST",saveNewDirector:"director/SAVE_NEW_DIRECTOR",editNewDirector:"director/EDIT_NEW_DIRECTOR",setDirectorImage:"director/SET_DIRECTOR_IMAGE",uploadOneDirector:"director/UPLOAD_CURRENT_ITEM",deleteDirector:"director/DELETE_ITEM"}),...Object(i["d"])({addNewDirector:"director/ADD_NEW_DIRECTOR",mutSetDirectorName:"director/SET_CURRENT_NAME",mutSetDirectorImageAndImageData:"director/SET_CURRENT_IMAGE"}),onPosterFileButtonClick(){this.$refs.uploaderPoster.click()},onPosterFileChanged(e){this.setDirectorImage(e.target.files[0])},save(){this.$v.$touch(),this.$v.$invalid?this.appAlert("Валидация","Заполните все необходимые поля правильно!","error"):"new"!==this.$route.params.id?this.editNewDirector().then(e=>{200===e.status?this.appAlert("Редактирование","Сохранено успешно!","success"):this.appAlert("Редактирование",`Ошибка сохранения ${e.status} - ${e.data}`,"error")}).catch(e=>{console.log(e)}):this.saveNewDirector().then(e=>{200===e.status?(this.appAlert("Сохранение","Сохранено успешно!","success"),this.$router.push(e.data._id)):this.appAlert("Сохранение",`Ошибка сохранения ${e.status} - ${e.data}`,"error"),this.$v.$reset()}).catch(e=>{console.log(e)})},async deleteItem(e){const t=await this.$confirm("Удалить режиссера? (Данные режиссера будут удалены безвозвратно, а картинка попадет в корзину)",{title:"Удалить",color:"primary",buttonTrueText:"Удалить",buttonFalseText:"Нет",icon:"mdi-delete"});t&&this.deleteDirector(e).then(e=>{200===e.status?(this.appAlert("Удаление",e.data,"success"),this.$router.push({name:"films"})):this.appAlert("Удаление",`Ошибка ${e.status} - ${e.data}`,"error",15e3)}).catch(e=>{console.log(e)})}},mounted(){"new"===this.$route.params.id?this.addNewDirector():this.uploadOneDirector(this.$route.params.id)}},c=l,u=(r("314e"),r("2877")),d=r("6544"),m=r.n(d),h=r("8336"),p=r("b0af"),f=r("99d9"),v=r("a523"),E=r("132d"),g=r("f6c4"),_=r("2fa4"),T=r("8654"),I=Object(u["a"])(c,a,s,!1,null,"ee4d8c4e",null);t["default"]=I.exports;m()(I,{VBtn:h["a"],VCard:p["a"],VCardActions:f["b"],VCardText:f["d"],VCardTitle:f["e"],VContainer:v["a"],VIcon:E["a"],VMain:g["a"],VSpacer:_["a"],VTextField:T["a"]})},de8f:function(e,t,r){"use strict";r("234d")},e460:function(e,t,r){"use strict";r.r(t),r.d(t,"namespaced",(function(){return n})),r.d(t,"state",(function(){return o})),r.d(t,"mutations",(function(){return l})),r.d(t,"actions",(function(){return c})),r.d(t,"getters",(function(){return u}));var a=r("a078"),s=r("bc3a"),i=r.n(s);const n=!0,o=()=>({list:[],currentItem:{name:"",image:[]},DirectorPosterImageFile:null,DirectorPosterImage_Id:null,currentItem_Id:null,status:"",error:null}),l={SET_LIST(e,t){e.list=t},SET_CURRENT_ITEM(e,t){e.currentItem.name=t.name,e.currentItem.image=t.image.file_name,e.DirectorPosterImage_Id=t.image._id,e.currentItem_Id=t._id},ADD_NEW_DIRECTOR(e){const t={name:"",image:""};e.currentItem=t},SET_CURRENT_NAME(e,t){e.currentItem.name=t},SET_CURRENT_IMAGE(e,t){e.currentItem.image=t},SET_CURRENT_IMAGE_DATA(e,t){e.DirectorPosterImageFile=t},SAVE_NEW_DIRECTOR(e,t){e.list.push(t)},RESET_DIRECTOR(e){e.currentItem={name:"",image:[]}},RESET_DIRECTOR_IMAGEDATA(e){e.DirectorPosterImageFile=null},SET_STATUS(e,t){e.status=t}},c={async SET_LIST({commit:e}){console.log("!!!!"),console.log(a["a"].API.BASE_URL+a["a"].API.DIRECTOR.LIST);let t=await i.a.get(a["a"].API.BASE_URL+a["a"].API.DIRECTOR.LIST).then(t=>(e("SET_LIST",t.data),t.data)).catch(e=>{console.log(e)});return t},SET_DIRECTOR_IMAGE({commit:e},t){e("SET_CURRENT_IMAGE",t.name),e("SET_CURRENT_IMAGE_DATA",t)},async SAVE_NEW_DIRECTOR({state:e,commit:t}){let r=new FormData,s=e.DirectorPosterImageFile;r.append("file",s),r.append("director",JSON.stringify(e.currentItem));let n=null;return await i.a.post(a["a"].API.BASE_URL+a["a"].API.DIRECTOR.LIST,r,{headers:{"Content-Type":"multipart/form-data"}}).then(e=>{n={data:e.data,status:e.status},t("RESET_DIRECTOR_IMAGEDATA")}).catch(e=>{n={data:e.response.data,status:e.response.status}}),n},async EDIT_NEW_DIRECTOR({state:e}){let t=new FormData,r=e.DirectorPosterImageFile,s=e.currentItem_Id;r&&(e.currentItem.prevImg_Id=e.DirectorPosterImage_Id,t.append("file",r)),t.append("director",JSON.stringify(e.currentItem));let n=null;return await i.a.put(a["a"].API.BASE_URL+a["a"].API.DIRECTOR.LIST+"/"+s,t,{headers:{"Content-Type":"multipart/form-data"}}).then(e=>{n={data:e.data,status:e.status}}).catch(e=>{n={data:e.response.data,status:e.response.status}}),n},async UPLOAD_CURRENT_ITEM({commit:e},t){let r=await i.a.get(a["a"].API.BASE_URL+a["a"].API.DIRECTOR.LIST+"/"+t).then(t=>(e("SET_CURRENT_ITEM",t.data),t.data)).catch(e=>{console.log(e)});return r},async DELETE_ITEM({commit:e},t){console.log("from store"),console.log(t);let r=await i.a.delete(a["a"].API.BASE_URL+a["a"].API.DIRECTOR.LIST+"/"+t).then(t=>(e("SET_STATUS","OK"),{data:t.data,status:t.status})).catch(e=>({data:e.response.data,status:e.response.status}));return r}},u={}},e62d:function(e,t,r){"use strict";r("bbba")},e93f:function(e,t,r){e.exports=r.p+"img/test.46dd0f3e.jpg"},f657:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-footer",{attrs:{dark:"",padless:""}},[r("v-card",{staticClass:"flex",attrs:{flat:"",tile:""}},[r("v-card-title",{staticClass:"blue darken-1"},[r("strong",{staticClass:"subheading"},[e._v(e._s(e.$t("films.footerText")))]),r("v-spacer"),e._l(e.icons,(function(t,a){return r("v-btn",{key:a,staticClass:"mx-4",attrs:{target:"_blank",href:t.link,dark:"",icon:""}},[r("v-icon",{attrs:{size:"24px"}},[e._v(" "+e._s(t.icon)+" ")])],1)}))],2),r("v-card-text",{staticClass:"py-2 white--text text-center"},[e._v(" "+e._s((new Date).getFullYear())+" — "),r("strong",[e._v(e._s(e.$t("films.mySite")))])])],1)],1)},s=[],i={data(){return{icons:[{icon:"mdi-facebook",link:"https://www.facebook.com/"},{icon:"mdi-twitter",link:"https://twitter.com/"},{icon:"mdi-linkedin",link:"https://www.linkedin.com/"},{icon:"mdi-instagram",link:"https://www.instagram.com/"}]}}},n=i,o=r("2877"),l=r("6544"),c=r.n(l),u=r("8336"),d=r("b0af"),m=r("99d9"),h=r("553a"),p=r("132d"),f=r("2fa4"),v=Object(o["a"])(n,a,s,!1,null,null,null);t["default"]=v.exports;c()(v,{VBtn:u["a"],VCard:d["a"],VCardText:m["d"],VCardTitle:m["e"],VFooter:h["a"],VIcon:p["a"],VSpacer:f["a"]})},f820:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"scroll",rawName:"v-scroll",value:e.handleScroll,expression:"handleScroll"}],staticClass:"wrapper"},[a("section",[a("img",{ref:"bg",staticClass:"bg",attrs:{src:r("d9fa"),alt:"bg"}}),a("img",{ref:"moon",staticClass:"moon",attrs:{src:r("d731"),alt:"moon"}}),a("img",{ref:"mountain",staticClass:"mountain",attrs:{src:r("c57e"),alt:"mountain"}}),a("img",{ref:"road",staticClass:"road",attrs:{src:r("1ecd"),alt:"road"}}),a("h2",{ref:"text",staticClass:"text"},[e._v("About Us")])]),a("p",{staticClass:"about-text"},[e._v(" Lorem ipsum dolor sit amet consectetur, adipisicing elit. Odio ipsam commodi doloribus minima nemo earum numquam, voluptas unde aliquid exercitationem reiciendis! Consequuntur eius laboriosam accusamus officia cum, neque quibusdam dicta enim, ipsa in possimus commodi inventore nemo adipisci hic alias provident laudantium dignissimos beatae quod a ex voluptas. Laborum corporis quisquam perferendis harum quaerat est qui, id ratione recusandae blanditiis eius odio, reiciendis possimus eaque soluta dolorem, sint doloribus minus aspernatur iste. Pariatur repellat modi explicabo ducimus ratione, corporis at tempora sunt obcaecati accusantium eveniet asperiores beatae illo eius. ")]),a("div",{staticClass:"back-arrow"},[a("img",{staticClass:"back-arrow__img",attrs:{src:r("8df2"),alt:""},on:{click:e.goBack}})])])},s=[],i={methods:{goBack(){this.$router.go(-1)},handleScroll(){let e=this.$refs.bg,t=this.$refs.moon,r=this.$refs.mountain,a=this.$refs.road,s=this.$refs.text,i=window.scrollY;e.style.top=.5*i+"px",t.style.left=.5*-i+"px",r.style.top=.15*-i+"px",a.style.top=.15*i+"px",s.style.top=i+"px"}}},n=i,o=(r("a495"),r("2877")),l=r("269a"),c=r.n(l),u=r("f977"),d=Object(o["a"])(n,a,s,!1,null,"344fd96f",null);t["default"]=d.exports;c()(d,{Scroll:u["b"]})}});
//# sourceMappingURL=app.daf981a5.js.map